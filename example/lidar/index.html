<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="author" content="Daniel Lawrence Lu">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>All about automotive lidar</title>
  <meta property="og:image" content="file:///home/dllu/proj/dllup-rs/img/Waymo_Jaguar_I-Pace_in_San_Francisco_2023_dllu.jpg" />
  <meta property="og:description" content="Here I&#x27;ll provide a comprehensive overview of automotive lidar technology.
Lidar is used for autonomous vehicles and robotics because it&#x27;s a cool technology." />
  <meta name="description" content="Here I&#x27;ll provide a comprehensive overview of automotive lidar technology.
Lidar is used for autonomous vehicles and robotics because it&#x27;s a cool technology." />
  <meta property="og:title" content="All about automotive lidar" />
  <meta name="twitter:card" content="summary_large_image">
  <meta name="robots" content="max-image-preview:large">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.css" integrity="sha384-5TcZemv2l/9On385z///+d7MSYlvIEw9FuZTIdZ14vJLqWphw7e7ZPuOiCHJcFCP" crossorigin="anonymous">
  <link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,400italic,600,600italic,700,700italic,900,900italic%7CSource+Code+Pro:500,600" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="file:///home/dllu/proj/dllup-rs/static/styles.css">
</head>
<body>
<nav id="hero"><a href="https://daniel.lawrence.lu/" id="hero-a"><span id="dllu-hero"><span style="display:none;">dllu</span><span id="D"></span><span id="L0"></span><span id="L1"></span><span id="U"></span></span></a></nav>
<nav id="toc">
<div class="toc"><ol><li><a href="#s1"><span class="tocnum">1</span> <span>What lidar does</span></a></li><li><a href="#s2"><span class="tocnum">2</span> <span>Measuring distance</span></a><ol><li><a href="#s2.1"><span class="tocnum">2.1</span> <span>Direct time of flight pulsed lidar</span></a><ol><li><a href="#s2.1.1"><span class="tocnum">2.1.1</span> <span>Photodiodes used in pulsed lidar</span></a></li><li><a href="#s2.1.2"><span class="tocnum">2.1.2</span> <span>SPAD macropixels</span></a></li><li><a href="#s2.1.3"><span class="tocnum">2.1.3</span> <span>Multi-shot ranging</span></a></li><li><a href="#s2.1.4"><span class="tocnum">2.1.4</span> <span>Silicon photomultipliers</span></a></li></ol></li><li><a href="#s2.2"><span class="tocnum">2.2</span> <span>Amplitude modulated lidar</span></a></li><li><a href="#s2.3"><span class="tocnum">2.3</span> <span>Frequency modulated lidar</span></a></li><li><a href="#s2.4"><span class="tocnum">2.4</span> <span>Parallax lidar</span></a></li></ol></li><li><a href="#s3"><span class="tocnum">3</span> <span>Discerning bearing</span></a><ol><li><a href="#s3.1"><span class="tocnum">3.1</span> <span>Arrays for discerning bearing</span></a><ol><li><a href="#s3.1.1"><span class="tocnum">3.1.1</span> <span>Discrete arrays</span></a></li><li><a href="#s3.1.2"><span class="tocnum">3.1.2</span> <span>Solid state arrays</span></a></li></ol></li><li><a href="#s3.2"><span class="tocnum">3.2</span> <span>Scanning and beam steering methods</span></a><ol><li><a href="#s3.2.1"><span class="tocnum">3.2.1</span> <span>Spinning</span></a></li><li><a href="#s3.2.2"><span class="tocnum">3.2.2</span> <span>Spinning mirror</span></a></li><li><a href="#s3.2.3"><span class="tocnum">3.2.3</span> <span>Oscillating mirrors/galvos</span></a></li><li><a href="#s3.2.4"><span class="tocnum">3.2.4</span> <span>MEMS mirror</span></a></li><li><a href="#s3.2.5"><span class="tocnum">3.2.5</span> <span>Optical phased arrays</span></a></li><li><a href="#s3.2.6"><span class="tocnum">3.2.6</span> <span>Baraja SpectrumScan</span></a></li><li><a href="#s3.2.7"><span class="tocnum">3.2.7</span> <span>Risley prisms</span></a></li></ol></li><li><a href="#s3.3"><span class="tocnum">3.3</span> <span>Combining two 1D methods</span></a></li></ol></li><li><a href="#s4"><span class="tocnum">4</span> <span>Choice of wavelength and eye safety</span></a></li><li><a href="#s5"><span class="tocnum">5</span> <span>Laser sources</span></a></li><li><a href="#s6"><span class="tocnum">6</span> <span>Common lidar problems</span></a><ol><li><a href="#s6.1"><span class="tocnum">6.1</span> <span>Beam angle calibration</span></a></li><li><a href="#s6.2"><span class="tocnum">6.2</span> <span>Range offsets</span></a></li><li><a href="#s6.3"><span class="tocnum">6.3</span> <span>Pixel crosstalk/blooming</span></a></li><li><a href="#s6.4"><span class="tocnum">6.4</span> <span>Intensity-dependent range bias</span></a></li><li><a href="#s6.5"><span class="tocnum">6.5</span> <span>Encoder hysteresis</span></a></li><li><a href="#s6.6"><span class="tocnum">6.6</span> <span>Encoder physical offset</span></a></li><li><a href="#s6.7"><span class="tocnum">6.7</span> <span>Multiple lidars in a box</span></a></li></ol></li><li><a href="#s7"><span class="tocnum">7</span> <span>FAQ</span></a><ol><li><a href="#s7.1"><span class="tocnum">7.1</span> <span>LiDAR vs lidar</span></a></li><li><a href="#s7.2"><span class="tocnum">7.2</span> <span>Are rectangular lidars solid state?</span></a></li></ol></li></ol></div>
</nav>
<main>
<header>
<h1 id="top">All about automotive lidar</h1>
</header>
<p>Here I’ll provide a comprehensive overview of automotive lidar technology.
Lidar is used for autonomous vehicles and robotics because it’s a cool technology.</p>
<figure id="fig1"><a href="file:///home/dllu/proj/dllup-rs/img/Waymo_Jaguar_I-Pace_in_San_Francisco_2023_dllu.jpg"><picture><source media="(max-width: 600px)" srcset="file:///home/dllu/proj/dllup-rs/img/Waymo_Jaguar_I-Pace_in_San_Francisco_2023_dllu-600.jpg 600w" type="image/jpeg"/><source media="(max-width: 1200px)" srcset="file:///home/dllu/proj/dllup-rs/img/Waymo_Jaguar_I-Pace_in_San_Francisco_2023_dllu-1200.jpg 1200w" type="image/jpeg"/><source media="(max-width: 3840px)" srcset="file:///home/dllu/proj/dllup-rs/img/Waymo_Jaguar_I-Pace_in_San_Francisco_2023_dllu-3840.jpg 3840w" type="image/jpeg"/><source media="(max-width: 7680px)" srcset="file:///home/dllu/proj/dllup-rs/img/Waymo_Jaguar_I-Pace_in_San_Francisco_2023_dllu-7680.jpg 7680w" type="image/jpeg"/><img src="file:///home/dllu/proj/dllup-rs/img/Waymo_Jaguar_I-Pace_in_San_Francisco_2023_dllu.jpg" alt="" width="600" height="450" loading="lazy" decoding="async" srcset="file:///home/dllu/proj/dllup-rs/img/Waymo_Jaguar_I-Pace_in_San_Francisco_2023_dllu-600.jpg 600w, file:///home/dllu/proj/dllup-rs/img/Waymo_Jaguar_I-Pace_in_San_Francisco_2023_dllu-1200.jpg 1200w, file:///home/dllu/proj/dllup-rs/img/Waymo_Jaguar_I-Pace_in_San_Francisco_2023_dllu-3840.jpg 3840w, file:///home/dllu/proj/dllup-rs/img/Waymo_Jaguar_I-Pace_in_San_Francisco_2023_dllu-7680.jpg 7680w, file:///home/dllu/proj/dllup-rs/img/Waymo_Jaguar_I-Pace_in_San_Francisco_2023_dllu.jpg 11648w" sizes="(max-width: 600px) 100vw, 600px"/></picture></a><figcaption><p><a href="#fig1" class="fignum">FIGURE 1</a> Waymo Jaguar I-Pace with several lidars.</p><details><summary>Image metadata</summary><ul><li><strong>Camera</strong>: FUJIFILM GFX100S</li><li><strong>Lens</strong>: GF55mmF1.7 R WR</li><li><strong>Aperture</strong>: f/2.5</li><li><strong>Shutter speed</strong>: 1/2500 s</li><li><strong>ISO</strong>: ISO 100</li><li><strong>Software</strong>: Digital Camera GFX100S Ver2.10</li><li><strong>Original date</strong>: 2023:11:21 12:40:07</li></ul></details><ul aria-label="download sizes"><li><a href="file:///home/dllu/proj/dllup-rs/img/Waymo_Jaguar_I-Pace_in_San_Francisco_2023_dllu-600.jpg">600 × 450</a></li><li><a href="file:///home/dllu/proj/dllup-rs/img/Waymo_Jaguar_I-Pace_in_San_Francisco_2023_dllu-1200.jpg">1200 × 900</a></li><li><a href="file:///home/dllu/proj/dllup-rs/img/Waymo_Jaguar_I-Pace_in_San_Francisco_2023_dllu-3840.jpg">3840 × 2880</a></li><li><a href="file:///home/dllu/proj/dllup-rs/img/Waymo_Jaguar_I-Pace_in_San_Francisco_2023_dllu-7680.jpg">7680 × 5760</a></li><li><a href="file:///home/dllu/proj/dllup-rs/img/Waymo_Jaguar_I-Pace_in_San_Francisco_2023_dllu.jpg">original 11648 × 8736</a></li></ul></figcaption></figure>
<figure id="fig2"><a href="file:///home/dllu/proj/dllup-rs/img/2020-01-03-00-08-34_DSCF4187_2335e4280af0a99266cd3a4641bf5111b9ca8093_2a5d8e9b91f3f357.jpg"><picture><source media="(max-width: 600px)" srcset="file:///home/dllu/proj/dllup-rs/img/2020-01-03-00-08-34_DSCF4187_2335e4280af0a99266cd3a4641bf5111b9ca8093_2a5d8e9b91f3f357-600.jpg 600w" type="image/jpeg"/><source media="(max-width: 1200px)" srcset="file:///home/dllu/proj/dllup-rs/img/2020-01-03-00-08-34_DSCF4187_2335e4280af0a99266cd3a4641bf5111b9ca8093_2a5d8e9b91f3f357-1200.jpg 1200w" type="image/jpeg"/><source media="(max-width: 3840px)" srcset="file:///home/dllu/proj/dllup-rs/img/2020-01-03-00-08-34_DSCF4187_2335e4280af0a99266cd3a4641bf5111b9ca8093_2a5d8e9b91f3f357-3840.jpg 3840w" type="image/jpeg"/><source media="(max-width: 7680px)" srcset="file:///home/dllu/proj/dllup-rs/img/2020-01-03-00-08-34_DSCF4187_2335e4280af0a99266cd3a4641bf5111b9ca8093_2a5d8e9b91f3f357-7680.jpg 7680w" type="image/jpeg"/><img src="file:///home/dllu/proj/dllup-rs/img/2020-01-03-00-08-34_DSCF4187_2335e4280af0a99266cd3a4641bf5111b9ca8093_2a5d8e9b91f3f357.jpg" alt="" width="600" height="450" loading="lazy" decoding="async" srcset="file:///home/dllu/proj/dllup-rs/img/2020-01-03-00-08-34_DSCF4187_2335e4280af0a99266cd3a4641bf5111b9ca8093_2a5d8e9b91f3f357-600.jpg 600w, file:///home/dllu/proj/dllup-rs/img/2020-01-03-00-08-34_DSCF4187_2335e4280af0a99266cd3a4641bf5111b9ca8093_2a5d8e9b91f3f357-1200.jpg 1200w, file:///home/dllu/proj/dllup-rs/img/2020-01-03-00-08-34_DSCF4187_2335e4280af0a99266cd3a4641bf5111b9ca8093_2a5d8e9b91f3f357-3840.jpg 3840w, file:///home/dllu/proj/dllup-rs/img/2020-01-03-00-08-34_DSCF4187_2335e4280af0a99266cd3a4641bf5111b9ca8093_2a5d8e9b91f3f357-7680.jpg 7680w, file:///home/dllu/proj/dllup-rs/img/2020-01-03-00-08-34_DSCF4187_2335e4280af0a99266cd3a4641bf5111b9ca8093_2a5d8e9b91f3f357.jpg 8256w" sizes="(max-width: 600px) 100vw, 600px"/></picture></a><figcaption><p><a href="#fig2" class="fignum">FIGURE 2</a> A Chrysler Pacifica Hybrid with 8 Ouster lidars.</p><details><summary>Image metadata</summary><ul><li><strong>Camera</strong>: FUJIFILM GFX 50R</li><li><strong>Lens</strong>: 0 mm f/unknown</li><li><strong>Aperture</strong>: f/NaN</li><li><strong>Shutter speed</strong>: 8.0 s</li><li><strong>ISO</strong>: ISO 100</li><li><strong>Software</strong>: Digital Camera GFX 50R Ver1.00</li><li><strong>Original date</strong>: 2020:01:03 00:08:34</li></ul></details><ul aria-label="download sizes"><li><a href="file:///home/dllu/proj/dllup-rs/img/2020-01-03-00-08-34_DSCF4187_2335e4280af0a99266cd3a4641bf5111b9ca8093_2a5d8e9b91f3f357-600.jpg">600 × 450</a></li><li><a href="file:///home/dllu/proj/dllup-rs/img/2020-01-03-00-08-34_DSCF4187_2335e4280af0a99266cd3a4641bf5111b9ca8093_2a5d8e9b91f3f357-1200.jpg">1200 × 900</a></li><li><a href="file:///home/dllu/proj/dllup-rs/img/2020-01-03-00-08-34_DSCF4187_2335e4280af0a99266cd3a4641bf5111b9ca8093_2a5d8e9b91f3f357-3840.jpg">3840 × 2880</a></li><li><a href="file:///home/dllu/proj/dllup-rs/img/2020-01-03-00-08-34_DSCF4187_2335e4280af0a99266cd3a4641bf5111b9ca8093_2a5d8e9b91f3f357-7680.jpg">7680 × 5760</a></li><li><a href="file:///home/dllu/proj/dllup-rs/img/2020-01-03-00-08-34_DSCF4187_2335e4280af0a99266cd3a4641bf5111b9ca8093_2a5d8e9b91f3f357.jpg">original 8256 × 6192</a></li></ul></figcaption></figure>
<h1 id="what-lidar-does"><span id="s1">What lidar does</span></h1>
<p>A lidar is a sensor which measures things by bouncing light off an object.
These things include:</p>
<ul><li>distance, by measuring how much time it takes for light to bounce back</li><li>bearing, by shining the light or pointing the detector in a particular direction</li><li>reflectivity, by measuring how much light has bounced back</li><li>speed, by measuring the Doppler shift in the reflected light.</li><li>ambient, by measuring the amount of light in the environment in a particular direction</li></ul>
<figure id="fig3"><a href="os1-64-ambient-2.png"><picture><img src="os1-64-ambient-2.png" alt="" width="600" height="600" loading="lazy" decoding="async"/></picture></a><figcaption><p><a href="#fig3" class="fignum">FIGURE 3</a> Ambient, intensity, and range channels of a really old Ouster OS1-64.</p><ul aria-label="download sizes"><li><a href="os1-64-ambient-2.png">original</a></li></ul></figcaption></figure>
<p>In general, we are most interested in the first two: <strong>distance</strong> and <strong>bearing</strong>.
The other ones are very nice to have as well, particularly surface reflectivity, which allows detection of lanes on the ground for example.
Some lidars also have the ability to measure ambient light, like a camera.</p>
<p>By measuring distance in many directions, an autonomous vehicle can see its environment.
Each measurement corresponds to a 3D point in space, so a vehicle can create a 3D model of the world around itself.
This allows it to know exactly where it is, where obstacles are, and how to plan a path to avoid obstacles.</p>
<p>Distance and bearing measurements can be converted into 3D Cartesian points. For example, given range <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>r</mi></mrow><annotation encoding="application/x-tex">r</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span></span></span></span> and bearing <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>θ</mi></mrow><annotation encoding="application/x-tex">\theta</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span></span></span></span>, <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>ϕ</mi></mrow><annotation encoding="application/x-tex">\phi</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">ϕ</span></span></span></span>, the 3D point is:</p>
<div class="math" id="eq1"><a href="#eq1" class="eqnum">1</a> <span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable rowspacing="0.25em" columnalign="right" columnspacing=""><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mi mathvariant="bold">p</mi><mo>=</mo><mrow><mo fence="true">[</mo><mtable rowspacing="0.16em" columnalign="center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>x</mi></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>y</mi></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>z</mi></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow><mo>=</mo><mrow><mo fence="true">[</mo><mtable rowspacing="0.16em" columnalign="center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>r</mi><mi>sin</mi><mo>⁡</mo><mi>θ</mi><mi>cos</mi><mo>⁡</mo><mi>ϕ</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>r</mi><mi>sin</mi><mo>⁡</mo><mi>θ</mi><mi>sin</mi><mo>⁡</mo><mi>ϕ</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>r</mi><mi>cos</mi><mo>⁡</mo><mi>θ</mi></mrow></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow></mrow></mstyle></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{aligned}\mathbf{p} = \begin{bmatrix}x\\y\\z\end{bmatrix} = \begin{bmatrix}
r \sin\theta \cos\phi\\
r \sin\theta \sin\phi\\
r \cos\theta
\end{bmatrix}\end{aligned}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:3.9em;vertical-align:-1.7em;"></span><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.2em;"><span style="top:-4.2em;"><span class="pstrut" style="height:4.05em;"></span><span class="mord"><span class="mord mathbf">p</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.05em;"><span class="pstrut" style="height:5.6em;"></span><span style="width:0.667em;height:3.600em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.667em" height="3.600em" viewBox="0 0 667 3600"><path d="M403 1759 V84 H666 V0 H319 V1759 v0 v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v0 v1759 h84z"/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">x</span></span></span><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span></span><span style="top:-1.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.04398em;">z</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.05em;"><span class="pstrut" style="height:5.6em;"></span><span style="width:0.667em;height:3.600em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.667em" height="3.600em" viewBox="0 0 667 3600"><path d="M347 1759 V0 H0 V84 H263 V1759 v0 v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v0 v1759 h84z"/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.05em;"><span class="pstrut" style="height:5.6em;"></span><span style="width:0.667em;height:3.600em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.667em" height="3.600em" viewBox="0 0 667 3600"><path d="M403 1759 V84 H666 V0 H319 V1759 v0 v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v0 v1759 h84z"/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop">sin</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop">cos</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">ϕ</span></span></span><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop">sin</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop">sin</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">ϕ</span></span></span><span style="top:-1.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop">cos</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.05em;"><span class="pstrut" style="height:5.6em;"></span><span style="width:0.667em;height:3.600em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.667em" height="3.600em" viewBox="0 0 667 3600"><path d="M347 1759 V0 H0 V84 H263 V1759 v0 v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v0 v1759 h84z"/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.7em;"><span></span></span></span></span></span></span></span></span></span></span></span></div>
<p>In contrast, a camera only measures bearing and ambient light intensity. Each pixel of a photo is a measurement of how much light there is in that particular direction.
But generally, a camera has much higher bearing resolution than a lidar.</p>
<figure id="fig4"><a href="file:///home/dllu/proj/dllup-rs/img/Ouster_OS1-64_lidar_point_cloud_of_intersection_of_Folsom_and_Dore_St_2C_San_Francisco.png"><picture><source media="(max-width: 600px)" srcset="file:///home/dllu/proj/dllup-rs/img/Ouster_OS1-64_lidar_point_cloud_of_intersection_of_Folsom_and_Dore_St_2C_San_Francisco-600.png 600w" type="image/png"/><source media="(max-width: 1200px)" srcset="file:///home/dllu/proj/dllup-rs/img/Ouster_OS1-64_lidar_point_cloud_of_intersection_of_Folsom_and_Dore_St_2C_San_Francisco-1200.png 1200w" type="image/png"/><source media="(max-width: 3840px)" srcset="file:///home/dllu/proj/dllup-rs/img/Ouster_OS1-64_lidar_point_cloud_of_intersection_of_Folsom_and_Dore_St_2C_San_Francisco-3840.png 3840w" type="image/png"/><source media="(max-width: 7680px)" srcset="file:///home/dllu/proj/dllup-rs/img/Ouster_OS1-64_lidar_point_cloud_of_intersection_of_Folsom_and_Dore_St_2C_San_Francisco-7680.png 7680w" type="image/png"/><img src="file:///home/dllu/proj/dllup-rs/img/Ouster_OS1-64_lidar_point_cloud_of_intersection_of_Folsom_and_Dore_St_2C_San_Francisco.png" alt="" width="600" height="338" loading="lazy" decoding="async" srcset="file:///home/dllu/proj/dllup-rs/img/Ouster_OS1-64_lidar_point_cloud_of_intersection_of_Folsom_and_Dore_St_2C_San_Francisco-600.png 600w, file:///home/dllu/proj/dllup-rs/img/Ouster_OS1-64_lidar_point_cloud_of_intersection_of_Folsom_and_Dore_St_2C_San_Francisco-1200.png 1200w, file:///home/dllu/proj/dllup-rs/img/Ouster_OS1-64_lidar_point_cloud_of_intersection_of_Folsom_and_Dore_St_2C_San_Francisco-3840.png 3840w, file:///home/dllu/proj/dllup-rs/img/Ouster_OS1-64_lidar_point_cloud_of_intersection_of_Folsom_and_Dore_St_2C_San_Francisco-7680.png 7680w, file:///home/dllu/proj/dllup-rs/img/Ouster_OS1-64_lidar_point_cloud_of_intersection_of_Folsom_and_Dore_St_2C_San_Francisco.png 8192w" sizes="(max-width: 600px) 100vw, 600px"/></picture></a><figcaption><p><a href="#fig4" class="fignum">FIGURE 4</a> A point cloud accumulated from an OUster OS1-64 lidar.</p><ul aria-label="download sizes"><li><a href="file:///home/dllu/proj/dllup-rs/img/Ouster_OS1-64_lidar_point_cloud_of_intersection_of_Folsom_and_Dore_St_2C_San_Francisco-600.png">600 × 338</a></li><li><a href="file:///home/dllu/proj/dllup-rs/img/Ouster_OS1-64_lidar_point_cloud_of_intersection_of_Folsom_and_Dore_St_2C_San_Francisco-1200.png">1200 × 675</a></li><li><a href="file:///home/dllu/proj/dllup-rs/img/Ouster_OS1-64_lidar_point_cloud_of_intersection_of_Folsom_and_Dore_St_2C_San_Francisco-3840.png">3840 × 2160</a></li><li><a href="file:///home/dllu/proj/dllup-rs/img/Ouster_OS1-64_lidar_point_cloud_of_intersection_of_Folsom_and_Dore_St_2C_San_Francisco-7680.png">7680 × 4320</a></li><li><a href="file:///home/dllu/proj/dllup-rs/img/Ouster_OS1-64_lidar_point_cloud_of_intersection_of_Folsom_and_Dore_St_2C_San_Francisco.png">original 8192 × 4608</a></li></ul></figcaption></figure>
<h1 id="measuring-distance"><span id="s2">Measuring distance</span></h1>
<p>Measuring distance is also known as <em>ranging</em>.
Basically, it just measures how close something is.
There are in general two ways of doing this:</p>
<ul><li>Measuring the time somehow, exploiting the fact that light travels at a constant speed (the speed of light)</li><li>Parallax</li></ul>
<p>For measuring the time, there are again two ways:</p>
<ul><li>Direct time of flight, where we directly measure the time</li><li>Modulated lidar, where we modulate some attribute of the outgoing light, e.g. amplitude, frequency, or polarization</li></ul>
<h2 id="direct-time-of-flight-pulsed-lidar"><span id="s2.1">Direct time of flight pulsed lidar</span></h2>
<p>Direct detection pulsed lidar fires one or more laser pulses.
Then, we simply measure the time to see the reflection from the pulse.</p>
<div class="math" id="eq2"><a href="#eq2" class="eqnum">2</a> <span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable rowspacing="0.25em" columnalign="right" columnspacing=""><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mi>d</mi><mo>=</mo><mfrac><mrow><mi>c</mi><mi>t</mi></mrow><mn>2</mn></mfrac></mrow></mstyle></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{aligned}d = \frac{ct}{2}\end{aligned}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:2.2781em;vertical-align:-0.889em;"></span><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.389em;"><span style="top:-3.389em;"><span class="pstrut" style="height:3.2921em;"></span><span class="mord"><span class="mord mathnormal">d</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.2921em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">c</span><span class="mord mathnormal">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.889em;"><span></span></span></span></span></span></span></span></span></span></span></span></div>
<p>where <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>c</mi></mrow><annotation encoding="application/x-tex">c</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">c</span></span></span></span> is the speed of light (<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>3</mn><mo>×</mo><msup><mn>10</mn><mn>8</mn></msup></mrow><annotation encoding="application/x-tex">3\times 10^8</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">3</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">8</span></span></span></span></span></span></span></span></span></span></span> m/s). The division by 2 is because the range is half of the round trip distance.</p>
<p>Imagine if we have a stopwatch that measures in, say, a nanosecond resolution.
If we measure 1000 nanoseconds, then it means the round trip distance was 300 m, which means that the range is 150 m.</p>
<p>This involves measuring the time series data of how much light is seen at any point in time.
Since electronics typically run at 1 GHz or so, the time series is discretized on the order of 1 ns, which corresponds to a range of 15 cm.
To further improve the ranging accuracy, an <a href="https://en.wikipedia.org/wiki/Upsampling">interpolation filter</a> is a standard technique in signal processing.
Typically ranging accuracy at the centimeter level is possible.</p>
<p>After getting the time series data, the peaks in the series are found, and these correspond to the range.</p>
<figure id="fig5"><a href="ambient_channel_outlines.svg"><picture><img src="ambient_channel_outlines.svg" alt="" width="600" height="600" loading="lazy" decoding="async"/></picture></a><figcaption><p><a href="#fig5" class="fignum">FIGURE 5</a> A simplified time series plot of number of photons vs time.</p><ul aria-label="download sizes"><li><a href="ambient_channel_outlines.svg">original</a></li></ul></figcaption></figure>
<p>Usually, it is better to have stronger, shorter pulses.
Diode lasers can produce pulses on the order of a couple of nanoseconds, and fiber lasers can produce even shorter pulses with much higher peak energy.</p>
<p>In practice, the laser pulse has some finite duration and shape (rather than being an infinitely short impulse function), so the peak is found in the <a href="https://en.wikipedia.org/wiki/Cross-correlation">cross correlation</a> of the outgoing pulse’s shape with the return data, rather than the raw time series data itself.
It is possible to send a randomly shaped pulse (or sequence of pulses), and cross correlate the return data against that. This provides much greater resistance against noise, interference, and crosstalk, and is known as a <a href="https://en.wikipedia.org/wiki/Matched_filter">matched filter</a>.</p>
<p>We should note, however, that the shape of the return pulse could be distorted or “smeared out”. This can be due to, for example, hitting a very slanted surface.
One strategy to overcome this is to try correlating it with a bunch of different pulse shapes. This technique may be called tempalte matching, dictionary matching, matched filter bank, or model-based detection.</p>
<h3 id="photodiodes-used-in-pulsed-lidar"><span id="s2.1.1">Photodiodes used in pulsed lidar</span></h3>
<p>In order to get a time series of the amount of light per unit time at a super high rate, we need a really fast sensor that can operate at 1 GHz.
Usually one of these two types of sensors is used:</p>
<ul><li>Linear-mode avalanche photodiodes (APD)</li><li>Geiger-mode avalanche photodiodes, also known as single-photon avalanche photodiodes (SPAD)</li></ul>
<p>Other types of sensors such as CCD sensors are not fast enough for this application.</p>
<p>A <a href="https://en.wikipedia.org/wiki/Photodiode">photodiode</a> is a diode that also has the photoelectric effect.</p>
<p>A diode is like a one-way valve for electricity.
Just like a one way valve for, say, water, if you try to force things sufficiently in the opposite direction, it will break down, resulting in a huge gush of water.
Likewise, if you apply a strong voltage in the reverse direction, it’s called a reverse bias, and a sufficiently strong voltage will cause a sudden spike in electrical current.
This is called <em>avalanche breakdown</em>.</p>
<p>Meanwhile, some metals produce an electric current when shining light on it, in an effect known as the photoelectric effect.</p>
<p>Avalanche photodiodes have a reverse bias, meaning that a voltage is applied in the opposite direction of the one-way valve.
If the reverse voltage exceeds a certain amount known as the <em>breakdown voltage</em>, it stops acting like a diode.
Suddenly, a large current can flow through the device.</p>
<p>Linear-mode APDs have a reverse bias slightly below the breakdown voltage.
Here, the current is linearly related to the voltage, but the gain is very high, so that even changing a small voltage results in a large change in the current.
Hence, it is a very sensitive way of measuring light intensity.</p>
<p>Geiger-mode avalanche photodiodes (GMAPDs) or single-photon avalanche diodes (SPADs) have such a strong reverse bias that even getting hit by a single photon can make them break down, resulting in a large current spike.
The output of a SPAD can be directly connected to a voltage discriminator so that the spike becomes a digital signal from logic 0 to 1.</p>
<figure id="fig6"><a href="file:///home/dllu/proj/dllup-rs/img/2025-08-25-19-38-30_ed8ec17d867bc8b1.png"><picture><source media="(max-width: 600px)" srcset="file:///home/dllu/proj/dllup-rs/img/2025-08-25-19-38-30_ed8ec17d867bc8b1-600.png 600w" type="image/png"/><img src="file:///home/dllu/proj/dllup-rs/img/2025-08-25-19-38-30_ed8ec17d867bc8b1.png" alt="" width="600" height="344" loading="lazy" decoding="async" srcset="file:///home/dllu/proj/dllup-rs/img/2025-08-25-19-38-30_ed8ec17d867bc8b1-600.png 600w, file:///home/dllu/proj/dllup-rs/img/2025-08-25-19-38-30_ed8ec17d867bc8b1.png 1156w" sizes="(max-width: 600px) 100vw, 600px"/></picture></a><figcaption><p><a href="#fig6" class="fignum">FIGURE 6</a> I-V diagram of avalanche photodiodes</p><ul aria-label="download sizes"><li><a href="file:///home/dllu/proj/dllup-rs/img/2025-08-25-19-38-30_ed8ec17d867bc8b1-600.png">600 × 344</a></li><li><a href="file:///home/dllu/proj/dllup-rs/img/2025-08-25-19-38-30_ed8ec17d867bc8b1.png">original 1156 × 662</a></li></ul></figcaption></figure>
<p>In the above I-V diagram, we see the relationship between the voltage (V) and the current (I).
The breakdown voltage <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>V</mi><mrow><mi>B</mi><mi>D</mi></mrow></msub></mrow><annotation encoding="application/x-tex">V_{BD}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.2222em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05017em;">B</span><span class="mord mathnormal mtight" style="margin-right:0.02778em;">D</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> is labelled.
As you can see, where the linear-mode APD operates, the current is linearly proportional to the voltage.
The Geiger-mode APD operates where the slope is effectively infinitely steep.</p>
<blockquote><em>Note on terminology</em>: Typically the word avalanche photodiode (APD) refers to linear-mode APDs. Meanwhile, GMAPDs and SPADs operate in the same way but the term SPAD often refers to silicon devices sensitive to near infrared (850 nm to 940 nm) and GMAPD often refers to InGaAs devices sensitive to longer wavelengths (1064 nm to 1550 nm).
</blockquote>
<p>SPADs have the following advantages:</p>
<ul><li><strong>CMOS compatibility</strong>: Silicon SPADs can be made with the <a href="https://en.wikipedia.org/wiki/CMOS">complementary metal-oxide-semiconductor (CMOS)</a> process, the same way as computer CPUs and the such. Since they output digital signals, you can fabricate them on the same chip that is used to process the signals. Hence the whole detection pipeline can be made cheaply on a silicon application-specific integrated circuit (ASIC). In contrast, the output of an APD is an analog signal, so a high-speed analog-to-digital converter (ADC) is required. This is very expensive and introduces extra noise. Silicon SPADs also benefit from the immense scaling potentials of the CMOS process, allowing very large arrays to be fabricated at a very fine manufacturing node. Hence, SPADs can be used to make very high resolution, dense arrays, as opposed to APDs which are are relatively large and expensive discrete components.</li><li><strong>Higher gain</strong>: SPADs have a higher gain than linear mode APDs. In fact, the gain of a SPAD is essentially infinite, allowing it to detect even a single photon.</li><li><strong>Lower temperature dependence</strong>: SPADs are less sensitive to temperature than APDs, for which different temperatures can change the sensitivity of the sensor and also affect the dark current.</li><li><strong>Better timing jitter</strong>: SPADs output such a sharp spike that you can measure the timing very accurately and reliably.</li></ul>
<p>Meanwhile, APDs have these advantages:</p>
<ul><li><strong>No dead time and quenching</strong>: A linear mode APD essentially continually outputs an analog signal, so there is no need to recharge. In contrast, after a SPAD fires, it takes a while to recharge. During a SPAD avalanche event, it can be destroyed by its own huge current, so the current must be quenched with a resistor to discharge it. After quenching, it needs to recover to its original biasing condition. The reverse bias voltage is typically supplied by a capacitor, which needs to take time to charge back up again. Hence, there is a dead time ranging from around a few nanoseconds (silicon SPADs) to a microsecond (GMAPDs). By avoiding all this, APDs can have simpler circuitry.</li><li><strong>Dynamic range per detector</strong>: APDs output a continuous analog output that you can digitize however finely you want, gives better dynamic range per detector (meanwhile a single SPAD has a dynamic range of only 1 bit, it’s either 0 or 1).</li><li><strong>No range walk</strong>: Linear mode APDs avoid intensity-dependent range walk and saturation issues, which I discuss in more detail below.</li></ul>
<p>If the return signal from a pulse is very strong, a SPAD array can be saturated at the very beginning of the pulse.
If the pulse length is long, ranging may be biased when measuring the range of retroreflective materials.
This is also known as <strong>range walk</strong>.</p>
<p>SPADs are so sensitive that they can be triggered by single photons, but this also makes it sensitive to ambient illumination.
Therefore saturation is a concern.</p>
<p>In contrast, the continuous signal from an APD can be digitized with many bits.</p>
<p>To prevent SPADs from being drowned out by ambient light, the probability of detection of any single SPAD must be kept very low. Some techniques include:</p>
<ul><li>SPADs are usually made really small</li><li>a tight band-pass filter can reject most ambient light</li><li>sometimes an attenuating filter (e.g. a neutral density filter, which attenuates all wavelengths equally) is needed to attenuate the signal even further</li></ul>
<h3 id="spad-macropixels"><span id="s2.1.2">SPAD macropixels</span></h3>
<figure id="fig7"><a href="file:///home/dllu/proj/dllup-rs/img/imx479.jpg"><picture><source media="(max-width: 600px)" srcset="file:///home/dllu/proj/dllup-rs/img/imx479-600.jpg 600w" type="image/jpeg"/><source media="(max-width: 1200px)" srcset="file:///home/dllu/proj/dllup-rs/img/imx479-1200.jpg 1200w" type="image/jpeg"/><img src="file:///home/dllu/proj/dllup-rs/img/imx479.jpg" alt="" width="600" height="325" loading="lazy" decoding="async" srcset="file:///home/dllu/proj/dllup-rs/img/imx479-600.jpg 600w, file:///home/dllu/proj/dllup-rs/img/imx479-1200.jpg 1200w, file:///home/dllu/proj/dllup-rs/img/imx479.jpg 2484w" sizes="(max-width: 600px) 100vw, 600px"/></picture></a><figcaption><p><a href="#fig7" class="fignum">FIGURE 7</a> The <a href="https://www.sony-semicon.com/en/news/2025/2025061001.html">Sony IMX479</a> SPAD sensor is physically a 105×1,568 pixel array, with a total of approximately 164,000 pixels, but it combines many pixels into macropixels, so the final output is only 520 macropixels. This allows it to have amazing dynamic range and produce this beautiful image. Note that the lower image is the raw ambient image output from the lidar rather than a separate photo taken by a camera.</p><ul aria-label="download sizes"><li><a href="file:///home/dllu/proj/dllup-rs/img/imx479-600.jpg">600 × 325</a></li><li><a href="file:///home/dllu/proj/dllup-rs/img/imx479-1200.jpg">1200 × 650</a></li><li><a href="file:///home/dllu/proj/dllup-rs/img/imx479.jpg">original 2484 × 1346</a></li></ul></figcaption></figure>
<p>Instead of a single SPAD per pixel, several SPADs can be combined into a single “macropixel”.
This trade-off results in lower spatial resolution, but the benefit is that it mitigates most of the drawbacks of SPADs.</p>
<ul><li>Dynamic range increases from 1 bit to as many bits as you have SPADs in the macropixel.</li><li>Dead time of any individual SPAD is mitigated since it is unlikely that all the SPADs will fire at once, meaning that there are always available ones. Of course, in some circumstances (such as retroreflectors) it is still possible for all the SPADs in a macropixel to be saturated.</li><li>SPADs can be made individually smaller, making it unlikely for all of them to fire at once, resulting in better resilience against saturation.</li></ul>
<h3 id="multishot-ranging"><span id="s2.1.3">Multi-shot ranging</span></h3>
<p>Even with a macropixel, ranging with SPADs can be noisy as there may only be as many photons measured as there are SPADs in the macropixel.
To increase signal strength, the lidar can fire many shots and aggregate the time series data from each shot. This is known as multi-shot ranging.</p>
<p>As an additional bonus, making multiple low-energy shots is somewhat safer than a single high-energy shot as the peak laser energy is less.</p>
<p>The tradeoff is that it takes a longer time to make a measurement, during which you could suffer from motion blur.</p>
<h3 id="silicon-photomultipliers"><span id="s2.1.4">Silicon photomultipliers</span></h3>
<p>Silicon photomultipliers are a group of SPADs whose outputs are combined into a single analog signal.
This has some advantages:</p>
<ul><li>Just like the SPAD macropixel, by combining many SPADs, the dead time of any individual SPAD is a less big concern.</li><li>It can be more sensitive than regular linear mode APDs.</li><li>Without the need for digital logic, the chip is simpler and possibly denser than a digital SPAD macropixel.</li></ul>
<p>However, an ADC is still required to digitize the signal.</p>
<h2 id="amplitude-modulated-lidar"><span id="s2.2">Amplitude modulated lidar</span></h2>
<p>Instead of firing pulses, an amplitude modulated lidar continually modulates the laser amplitude at some radio frequency, say, 1 GHz.
In other words, it is just a fast blinking light that turns on and off rapidly.</p>
<p>Meanwhile, there are two detectors that turn on and off at the same rate but are out of phase.
That is, when detector 1 is on, detector 2 is off, and vice versa.</p>
<p>The range can be estimated by checking the ratio of the light falling in two detectors, for ranges up to a multiple of the modulation wavelength
For example, at 1 GHz, the wavelength is 15 cm.</p>
<p>To resolve the range absolutely, the sensor changes the modulation frequency slightly, say, to 1.05 GHz, giving a range estimate modulo a different wavelength.
The unknown multiples can then be found as a least common multiple problem.</p>
<p>The advantage of this type of amplitude-modulated lidar is that it is very cheap.
There is no need for high-speed timing electronics to count photons at a high speed.
Instead, a simple oscillator is sufficient to make the lights and detectors blink at 1 GHz.</p>
<p>Since the detectors just need to measure intensity rather than timing information, they do not need to be very fast, and basic CMOS or CCD sensors will suffice.</p>
<p>This type of lidar is used in RGBD sensors such as the Kinect V2.
However, the ranging accuracy is much poorer than needed for automotive purposes, so this type of lidar is not typically used for automotive.</p>
<h2 id="frequency-modulated-lidar"><span id="s2.3">Frequency modulated lidar</span></h2>
<p>A frequency modulated lidar has a laser that can change in frequency rapidly.</p>
<p>Now, the laser beam goes through a beam splitter, and part of it is sent out, where it hits something, and bounces back.
Then, you can combine the part that didn’t go out with the part that bounced back.</p>
<p>When you combine two waves of similar but slightly different frequency, you’ll end up with something called <strong>beat</strong>. When the waves line up, they will double their strength, and when they are out of phase, they cancel each other out.
Then, you can use a photodiode to measure the time series of the combined wave in order to determine the beat frequency, which in turn tells you the range.</p>
<div class="math" id="eq3"><a href="#eq3" class="eqnum">3</a> <span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable rowspacing="0.25em" columnalign="right" columnspacing=""><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mi>cos</mi><mo>⁡</mo><mo stretchy="false">(</mo><mn>2</mn><mi>π</mi><msub><mi>f</mi><mn>1</mn></msub><mi>t</mi><mo stretchy="false">)</mo><mo>+</mo><mi>cos</mi><mo>⁡</mo><mo stretchy="false">(</mo><mn>2</mn><mi>π</mi><msub><mi>f</mi><mn>2</mn></msub><mi>t</mi><mo stretchy="false">)</mo><mo>=</mo><mn>2</mn><munder><munder><mrow><mi>cos</mi><mo>⁡</mo><mrow><mo fence="true">(</mo><mn>2</mn><mi>π</mi><mfrac><mrow><msub><mi>f</mi><mn>1</mn></msub><mo>+</mo><msub><mi>f</mi><mn>2</mn></msub></mrow><mn>2</mn></mfrac><mi>t</mi><mo fence="true">)</mo></mrow></mrow><mo stretchy="true">⏟</mo></munder><mtext>carrier</mtext></munder><munder><munder><mrow><mi>cos</mi><mo>⁡</mo><mrow><mo fence="true">(</mo><mn>2</mn><mi>π</mi><mfrac><mrow><msub><mi>f</mi><mn>1</mn></msub><mo>−</mo><msub><mi>f</mi><mn>2</mn></msub></mrow><mn>2</mn></mfrac><mi>t</mi><mo fence="true">)</mo></mrow></mrow><mo stretchy="true">⏟</mo></munder><mtext>envelope</mtext></munder></mrow></mstyle></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{aligned}\cos(2\pi f_1t)+\cos(2\pi f_2t) = 2 \underbrace{\cos\left(2\pi\frac{f_1+f_2}{2}t\right)}_\text{carrier} \underbrace{\cos\left(2\pi\frac{f_1-f_2}{2}t\right)}_\text{envelope}\end{aligned}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:4.1702em;vertical-align:-1.8351em;"></span><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.3351em;"><span style="top:-4.3351em;"><span class="pstrut" style="height:3.45em;"></span><span class="mord"><span class="mop">cos</span><span class="mopen">(</span><span class="mord">2</span><span class="mord mathnormal" style="margin-right:0.03588em;">π</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.1076em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathnormal">t</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mop">cos</span><span class="mopen">(</span><span class="mord">2</span><span class="mord mathnormal" style="margin-right:0.03588em;">π</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.1076em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathnormal">t</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">2</span><span class="mord munder"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-1.1845em;"><span class="pstrut" style="height:3.45em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord text mtight"><span class="mord mtight">carrier</span></span></span></span><span style="top:-3.45em;"><span class="pstrut" style="height:3.45em;"></span><span class="mord munder"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span class="svg-align" style="top:-1.852em;"><span class="pstrut" style="height:3.45em;"></span><span class="stretchy" style="height:0.548em;min-width:1.6em;"><span class="brace-left" style="height:0.548em;"><svg xmlns="http://www.w3.org/2000/svg" width="400em" height="0.548em" viewBox="0 0 400000 548" preserveAspectRatio="xMinYMin slice"><path d="M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z"/></svg></span><span class="brace-center" style="height:0.548em;"><svg xmlns="http://www.w3.org/2000/svg" width="400em" height="0.548em" viewBox="0 0 400000 548" preserveAspectRatio="xMidYMin slice"><path d="M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z"/></svg></span><span class="brace-right" style="height:0.548em;"><svg xmlns="http://www.w3.org/2000/svg" width="400em" height="0.548em" viewBox="0 0 400000 548" preserveAspectRatio="xMaxYMin slice"><path d="M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z"/></svg></span></span></span><span style="top:-3.45em;"><span class="pstrut" style="height:3.45em;"></span><span class="mord"><span class="mop">cos</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">(</span></span><span class="mord">2</span><span class="mord mathnormal" style="margin-right:0.03588em;">π</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3714em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.1076em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.1076em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mord mathnormal">t</span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">)</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.598em;"><span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.2655em;"><span></span></span></span></span></span><span class="mord munder"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-1.1659em;"><span class="pstrut" style="height:3.45em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord text mtight"><span class="mord mtight">envelope</span></span></span></span><span style="top:-3.45em;"><span class="pstrut" style="height:3.45em;"></span><span class="mord munder"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span class="svg-align" style="top:-1.852em;"><span class="pstrut" style="height:3.45em;"></span><span class="stretchy" style="height:0.548em;min-width:1.6em;"><span class="brace-left" style="height:0.548em;"><svg xmlns="http://www.w3.org/2000/svg" width="400em" height="0.548em" viewBox="0 0 400000 548" preserveAspectRatio="xMinYMin slice"><path d="M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z"/></svg></span><span class="brace-center" style="height:0.548em;"><svg xmlns="http://www.w3.org/2000/svg" width="400em" height="0.548em" viewBox="0 0 400000 548" preserveAspectRatio="xMidYMin slice"><path d="M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z"/></svg></span><span class="brace-right" style="height:0.548em;"><svg xmlns="http://www.w3.org/2000/svg" width="400em" height="0.548em" viewBox="0 0 400000 548" preserveAspectRatio="xMaxYMin slice"><path d="M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z"/></svg></span></span></span><span style="top:-3.45em;"><span class="pstrut" style="height:3.45em;"></span><span class="mord"><span class="mop">cos</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">(</span></span><span class="mord">2</span><span class="mord mathnormal" style="margin-right:0.03588em;">π</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3714em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.1076em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.1076em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mord mathnormal">t</span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">)</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.598em;"><span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.4202em;"><span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.8351em;"><span></span></span></span></span></span></span></span></span></span></span></span></div>
<p>Here’s a plot that shows this effect.
The main thing is that the beat frequency is proportional to the <em>difference</em> in frequency, so you can measure it relatively easily with a photodiode.</p>
<figure id="fig8"><a href="file:///home/dllu/proj/dllup-rs/img/Beating_Frequency.svg"><picture><img src="file:///home/dllu/proj/dllup-rs/img/Beating_Frequency.svg" alt="beat" width="307" height="155" loading="lazy" decoding="async" srcset="file:///home/dllu/proj/dllup-rs/img/Beating_Frequency.svg 307w" sizes="(max-width: 307px) 100vw, 307px"/></picture></a><figcaption><p><a href="#fig8" class="fignum">FIGURE 8</a> When combining two frequencies, you get a wave of the sum of the two frequencies multiplied by the difference of the two frequencies. Source: <a href="https://en.wikipedia.org/wiki/File:Beating_Frequency.svg">Ansgar Hellwig on Wikimedia Commons</a></p><ul aria-label="download sizes"><li><a href="file:///home/dllu/proj/dllup-rs/img/Beating_Frequency.svg">Original</a></li></ul></figcaption></figure>
<p>Frequency modulated lidar is known as <strong>frequency modulated continuous wave</strong> (FMCW) since the laser beam is always on (a continuous wave) that doesn’t turn off.
The principle of using the beat to determine the range is known as <a href="https://en.wikipedia.org/wiki/Optical_heterodyne_detection"><strong>optical heterodyne detection</strong></a>.
Here, “heterodyne” means comparing two slightly different frequencies (as opposed to “homodyne”, where you have the same frequency).</p>
<p>With FMCW lidar, you can also measure the speed of things by measuring the Doppler shift.</p>
<p>The main tradeoff is that you’ll need an expensive fiber laser that can do frequency modulation with highly linear chirps, increasing the overall cost.</p>
<h2 id="parallax-lidar"><span id="s2.4">Parallax lidar</span></h2>
<p>A parallax lidar works by triangulation, that is, similar to <a href="https://en.wikipedia.org/wiki/Coincidence_rangefinder">coincidence rangefinding</a>.</p>
<p>This does not use any timing information at all.
A linear photodetector is placed physically offset from the laser.
The detector measures the incident angle of the reflected light and obtains the range by triangulation.</p>
<figure id="fig9"><a href="file:///home/dllu/proj/dllup-rs/img/2025-08-25-20-48-01_5d96f7256b0cfd19.png"><picture><source media="(max-width: 600px)" srcset="file:///home/dllu/proj/dllup-rs/img/2025-08-25-20-48-01_5d96f7256b0cfd19-600.png 600w" type="image/png"/><source media="(max-width: 1200px)" srcset="file:///home/dllu/proj/dllup-rs/img/2025-08-25-20-48-01_5d96f7256b0cfd19-1200.png 1200w" type="image/png"/><img src="file:///home/dllu/proj/dllup-rs/img/2025-08-25-20-48-01_5d96f7256b0cfd19.png" alt="" width="600" height="430" loading="lazy" decoding="async" srcset="file:///home/dllu/proj/dllup-rs/img/2025-08-25-20-48-01_5d96f7256b0cfd19-600.png 600w, file:///home/dllu/proj/dllup-rs/img/2025-08-25-20-48-01_5d96f7256b0cfd19-1200.png 1200w, file:///home/dllu/proj/dllup-rs/img/2025-08-25-20-48-01_5d96f7256b0cfd19.png 1464w" sizes="(max-width: 600px) 100vw, 600px"/></picture></a><figcaption><p><a href="#fig9" class="fignum">FIGURE 9</a> Parallax rangefinding, figure from “Low cost laser distance sensor” by K. Konolige <em>et al</em>.</p><ul aria-label="download sizes"><li><a href="file:///home/dllu/proj/dllup-rs/img/2025-08-25-20-48-01_5d96f7256b0cfd19-600.png">600 × 430</a></li><li><a href="file:///home/dllu/proj/dllup-rs/img/2025-08-25-20-48-01_5d96f7256b0cfd19-1200.png">1200 × 859</a></li><li><a href="file:///home/dllu/proj/dllup-rs/img/2025-08-25-20-48-01_5d96f7256b0cfd19.png">original 1464 × 1048</a></li></ul></figcaption></figure>
<p>This is rarely or never used in automotive applications but is instead found in robotic vacuum cleaners and other low-speed, low-cost applications.
A famous example is the <a href="https://www.robotpark.com/image/data/PRO/91353/revolds-whitepaper.pdf">“Low cost laser distance sensor”</a> by Kurt Konolige <em>et al</em>.
Many robotic vacuum cleaner sensors are based on this.</p>
<p>A <strong>structured light</strong> depth camera, also known as active stereo, is a special case of parallax rangefinding.
Instead of a single laser beam, it projects a bunch of different dots at once, and instead of a 1D line scan sensor, it has a regular 2D sensor.
But the depth measurement is again based on triangulation.
Structured light depth cameras are used in the early versions of the Kinect as well as many Intel Realsense cameras.</p>
<p>With parallax rangefinding, it measures <em>disparity</em>, which is the inverse of range, so the uncertainty in range is quite high and grows quadratically with range.
As such, it is less suitable for advanced robotics and autonomous cars.</p>
<h1 id="discerning-bearing"><span id="s3">Discerning bearing</span></h1>
<p>As mentioned in our introduction, lidar sensors combine distance readings with bearing to produce 3d points. Now that we’ve covered distance, we are ready to discuss how to figure out the directions (bearing) of things.</p>
<p>Lidars can either:</p>
<ul><li>discern bearing for both tx (the outgoing laser beam) and rx (the detector), or</li><li>discern bearing only for rx but not tx (i.e. a flash lidar), or</li><li>discern bearing only for tx but not rx (for example, some optical phased array lidars only steer the laser beam, but have a “staring” detector that doesn’t distinguish angle).</li></ul>
<p>Discerning bearing is also known as “imaging”. People may describe a system as having both imaged rx and tx, for example.</p>
<p>Generally, having imaged rx and tx is vastly better, since you are only pointing your laser beam where you’re looking, so you get more range and efficiency, and meanwhile the imaged receiver rejects off-angle background light.</p>
<p>There are two main approaches for discerning bearing:</p>
<ul><li>an <strong>array</strong> of elements already pointing in different directions</li><li><strong>beam steering</strong>, by pointing either your detector or laser in various directions</li></ul>
<figure id="fig10"><a href="file:///home/dllu/proj/dllup-rs/img/array_vs_steering.svg"><picture><img src="file:///home/dllu/proj/dllup-rs/img/array_vs_steering.svg" alt="" width="600" height="360" loading="lazy" decoding="async" srcset="file:///home/dllu/proj/dllup-rs/img/array_vs_steering.svg 600w" sizes="(max-width: 600px) 100vw, 600px"/></picture></a><figcaption><p><a href="#fig10" class="fignum">FIGURE 10</a> Animation showing arrays vs steering</p><ul aria-label="download sizes"><li><a href="file:///home/dllu/proj/dllup-rs/img/array_vs_steering.svg">Original</a></li></ul></figcaption></figure>
<p>As with the methods for measuring distance, each method has advantages and disadvantages.</p>
<p>The advantages of arrays are that it doesn’t have any moving parts, each array element can be a lot cheaper, potentially leading to overall cheaper cost, and that it can produce a much greater quantity of points.
The advantage of beam steering is that it works with high quality but expensive laser sources such as fiber lasers, the scan pattern may be configurable.
Being able to use high quality lasers also unlocks the ability to use ranging modalities unavailable to array-based lidars, such as FMCW.</p>
<p>Note that if you rely on steering very few (even one) lasers, the number of points per second is limited by the speed of light.
It takes light a microsecond to travel 300 m round trip, meaning that a single beam lidar is limited to about a million points per second at a range of 150 m.
Meanwhile, array-based lidars can easily pump out several million points per second.</p>
<h2 id="arrays-for-discerning-bearing"><span id="s3.1">Arrays for discerning bearing</span></h2>
<p>The simplest way to determine direction is to just have an array of elements pointed in various directions.</p>
<p>Basically, you’ll need cheap and small array elements in order to have an array.</p>
<figure id="table1"><table><tr><th>Laser type</th><th>Performance</th><th>Cost</th><th>Array?</th></tr></table><figcaption><a href="#table1" class="fignum">Table 1</a> |-</figcaption></figure>
<figure id="table2"><table><tr><th>VCSEL</th><th>Low</th><th>Low</th><th>Solid state 2D arrays of hundreds of lasers are possible</th></tr><tr><td>Edge-emitting diodes</td><td>Mid</td><td>Mid</td><td>Discrete 1D arrays of dozens of lasers are typical</td></tr><tr><td>Fiber</td><td>High</td><td>High</td><td>No, typically used as single laser + beam steering</td></tr></table><figcaption><a href="#table2" class="fignum">Table 2</a> Comparison of lasers</figcaption></figure>
<figure id="table3"><table><tr><th>Sensor type</th><th>Size</th><th>Cost</th><th>Array?</th></tr></table><figcaption><a href="#table3" class="fignum">Table 3</a> |-</figcaption></figure>
<figure id="table4"><table><tr><th>SPAD</th><th>Small</th><th>Low</th><th>Solid state 2D arrays of even millions of SPADs are possible</th></tr><tr><td>APD</td><td>Mid</td><td>Mid</td><td>Discrete 1D arrays of dozens of APDs are typical</td></tr></table><figcaption><a href="#table4" class="fignum">Table 4</a> Comparison of receivers</figcaption></figure>
<h3 id="discrete-arrays"><span id="s3.1.1">Discrete arrays</span></h3>
<p>With discrete arrays, you have discrete components like edge-emitting laser diodes and avalanche photodiodes that are pointed in different directions.
Some early lidars, like the Velodyne VLP 16, literally have 16 circuit boards, each with one laser diode on them, and another 16 circuit boards, each with one APD on them.
Then, these 32 circuit boards are glued into place.</p>
<figure id="fig11"><a href="file:///home/dllu/proj/dllup-rs/img/vlp16-inside.jpg"><picture><source media="(max-width: 600px)" srcset="file:///home/dllu/proj/dllup-rs/img/vlp16-inside-600.jpg 600w" type="image/jpeg"/><img src="file:///home/dllu/proj/dllup-rs/img/vlp16-inside.jpg" alt="VLP 16" width="600" height="400" loading="lazy" decoding="async" srcset="file:///home/dllu/proj/dllup-rs/img/vlp16-inside-600.jpg 600w, file:///home/dllu/proj/dllup-rs/img/vlp16-inside.jpg 1200w" sizes="(max-width: 600px) 100vw, 600px"/></picture></a><figcaption><p><a href="#fig11" class="fignum">FIGURE 11</a> The inside of the Velodyne VLP 16. Source: <a href="https://xtech.nikkei.com/atcl/nxt/column/18/00009/00066/">xtech</a></p><details><summary>Image metadata</summary><ul><li><strong>Camera</strong>: Canon EOS 5DS</li><li><strong>Lens</strong>: TS-E90mm f/2.8</li><li><strong>Aperture</strong>: f/14.0</li><li><strong>Shutter speed</strong>: 1/60 s</li><li><strong>ISO</strong>: ISO 400</li><li><strong>Software</strong>: GIMP 2.10.30</li><li><strong>Original date</strong>: 2021:12:03 18:46:42</li></ul></details><ul aria-label="download sizes"><li><a href="file:///home/dllu/proj/dllup-rs/img/vlp16-inside-600.jpg">600 × 400</a></li><li><a href="file:///home/dllu/proj/dllup-rs/img/vlp16-inside.jpg">original 1200 × 800</a></li></ul></figcaption></figure>
<figure id="fig12" class="wide"><a href="file:///home/dllu/proj/dllup-rs/img/vlp16-pcbs.jpg"><picture><source media="(max-width: 600px)" srcset="file:///home/dllu/proj/dllup-rs/img/vlp16-pcbs-600.jpg 600w" type="image/jpeg"/><img src="file:///home/dllu/proj/dllup-rs/img/vlp16-pcbs.jpg" alt="VLP 16 PCBs" width="1200" height="545" loading="lazy" decoding="async" srcset="file:///home/dllu/proj/dllup-rs/img/vlp16-pcbs-600.jpg 600w, file:///home/dllu/proj/dllup-rs/img/vlp16-pcbs.jpg 1200w" sizes="100vw"/></picture></a><figcaption><p><a href="#fig12" class="fignum">FIGURE 12</a> Detail of the array of 16 PCBs in the Velodyne VLP 16. Source: <a href="https://xtech.nikkei.com/atcl/nxt/column/18/00009/00066/">xtech</a></p><details><summary>Image metadata</summary><ul><li><strong>Software</strong>: GIMP 2.10.30</li></ul></details><ul aria-label="download sizes"><li><a href="file:///home/dllu/proj/dllup-rs/img/vlp16-pcbs-600.jpg">600 × 273</a></li><li><a href="file:///home/dllu/proj/dllup-rs/img/vlp16-pcbs.jpg">original 1200 × 545</a></li></ul></figcaption></figure>
<p>The reason for doing that is because, due to the simple design of the lens, it was necessary to arrange the lasers and detectors along a curved arc.
Interestingly, a Google (now Waymo) patent <a href="https://patents.google.com/patent/US8836922B1/en">US8836922B1</a> describes using a flexible substrate to achieve the curve.</p>
<figure id="fig13"><a href="file:///home/dllu/proj/dllup-rs/img/2025-08-26-14-02-00_94432ea3e8916ca0.png"><picture><source media="(max-width: 412px)" srcset="file:///home/dllu/proj/dllup-rs/img/2025-08-26-14-02-00_94432ea3e8916ca0-412.png 412w" type="image/png"/><source media="(max-width: 600px)" srcset="file:///home/dllu/proj/dllup-rs/img/2025-08-26-14-02-00_94432ea3e8916ca0-600.png 600w" type="image/png"/><source media="(max-width: 1200px)" srcset="file:///home/dllu/proj/dllup-rs/img/2025-08-26-14-02-00_94432ea3e8916ca0-1200.png 1200w" type="image/png"/><img src="file:///home/dllu/proj/dllup-rs/img/2025-08-26-14-02-00_94432ea3e8916ca0.png" alt="" width="412" height="600" loading="lazy" decoding="async" srcset="file:///home/dllu/proj/dllup-rs/img/2025-08-26-14-02-00_94432ea3e8916ca0-412.png 412w, file:///home/dllu/proj/dllup-rs/img/2025-08-26-14-02-00_94432ea3e8916ca0-600.png 600w, file:///home/dllu/proj/dllup-rs/img/2025-08-26-14-02-00_94432ea3e8916ca0-1200.png 1200w, file:///home/dllu/proj/dllup-rs/img/2025-08-26-14-02-00_94432ea3e8916ca0.png 1443w" sizes="(max-width: 412px) 100vw, 412px"/></picture></a><figcaption><p><a href="#fig13" class="fignum">FIGURE 13</a> Curved detector array in the receive block in <a href="https://patents.google.com/patent/US8836922B1/en">US8836922B1</a>.</p><ul aria-label="download sizes"><li><a href="file:///home/dllu/proj/dllup-rs/img/2025-08-26-14-02-00_94432ea3e8916ca0-412.png">412 × 600</a></li><li><a href="file:///home/dllu/proj/dllup-rs/img/2025-08-26-14-02-00_94432ea3e8916ca0-600.png">600 × 874</a></li><li><a href="file:///home/dllu/proj/dllup-rs/img/2025-08-26-14-02-00_94432ea3e8916ca0-1200.png">1200 × 1749</a></li><li><a href="file:///home/dllu/proj/dllup-rs/img/2025-08-26-14-02-00_94432ea3e8916ca0.png">original 1443 × 2103</a></li></ul></figcaption></figure>
<h3 id="solid-state-arrays"><span id="s3.1.2">Solid state arrays</span></h3>
<p>Solid state arrays put lasers or detectors on a single chip. The obvious benefit is vastly simpler manufacturing and consistency.
High performance edge-emitting laser diodes shoot lasers to the sides so you can’t just put a bunch of them in an array on a chip, so you’ll have to make do with lower power VCSELs.</p>
<figure id="fig14"><a href="file:///home/dllu/proj/dllup-rs/img/ousterl3.png"><picture><img src="file:///home/dllu/proj/dllup-rs/img/ousterl3.png" alt="Ouster L3 chip" width="505" height="522" loading="lazy" decoding="async" srcset="file:///home/dllu/proj/dllup-rs/img/ousterl3.png 505w" sizes="(max-width: 505px) 100vw, 505px"/></picture></a><figcaption><p><a href="#fig14" class="fignum">FIGURE 14</a> The Ouster L3 chip, a SPAD array. Each square is a macropixel with many SPADs. Source: <a href="https://ouster.com/insights/blog/digital-lidar-realizing-the-power-of-moores-law">Ouster blog post</a></p><ul aria-label="download sizes"><li><a href="file:///home/dllu/proj/dllup-rs/img/ousterl3.png">original 505 × 522</a></li></ul></figcaption></figure>
<figure id="fig15"><a href="file:///home/dllu/proj/dllup-rs/img/2025-08-28-19-21-16_f94385e7f0ca177f.png"><picture><source media="(max-width: 600px)" srcset="file:///home/dllu/proj/dllup-rs/img/2025-08-28-19-21-16_f94385e7f0ca177f-600.png 600w" type="image/png"/><source media="(max-width: 1200px)" srcset="file:///home/dllu/proj/dllup-rs/img/2025-08-28-19-21-16_f94385e7f0ca177f-1200.png 1200w" type="image/png"/><img src="file:///home/dllu/proj/dllup-rs/img/2025-08-28-19-21-16_f94385e7f0ca177f.png" alt="" width="600" height="326" loading="lazy" decoding="async" srcset="file:///home/dllu/proj/dllup-rs/img/2025-08-28-19-21-16_f94385e7f0ca177f-600.png 600w, file:///home/dllu/proj/dllup-rs/img/2025-08-28-19-21-16_f94385e7f0ca177f-1200.png 1200w, file:///home/dllu/proj/dllup-rs/img/2025-08-28-19-21-16_f94385e7f0ca177f.png 2568w" sizes="(max-width: 600px) 100vw, 600px"/></picture></a><figcaption><p><a href="#fig15" class="fignum">FIGURE 15</a> Instead of 32 circuit boards, there are just two in this Ouster lidar: one containing the chip full of lasers, and one containing the chip full of detectors. Source: <a href="https://www.youtube.com/watch?v=fFEmWubsE8U">How Ouster Digital Lidar Works</a></p><ul aria-label="download sizes"><li><a href="file:///home/dllu/proj/dllup-rs/img/2025-08-28-19-21-16_f94385e7f0ca177f-600.png">600 × 326</a></li><li><a href="file:///home/dllu/proj/dllup-rs/img/2025-08-28-19-21-16_f94385e7f0ca177f-1200.png">1200 × 652</a></li><li><a href="file:///home/dllu/proj/dllup-rs/img/2025-08-28-19-21-16_f94385e7f0ca177f.png">original 2568 × 1396</a></li></ul></figcaption></figure>
<p>Since the laser array or detector array is now flat, the optical design will be somewhat more complex.
You’ll need the lens to be <a href="https://en.wikipedia.org/wiki/Telecentric_lens">image space telecentric</a> since your flat array of lasers all produces parallel beams.</p>
<figure id="fig16" class="wide"><a href="file:///home/dllu/proj/dllup-rs/img/2025-08-28-19-20-44_d2b0677b8cb4ceff.png"><picture><source media="(max-width: 600px)" srcset="file:///home/dllu/proj/dllup-rs/img/2025-08-28-19-20-44_d2b0677b8cb4ceff-600.png 600w" type="image/png"/><source media="(max-width: 1200px)" srcset="file:///home/dllu/proj/dllup-rs/img/2025-08-28-19-20-44_d2b0677b8cb4ceff-1200.png 1200w" type="image/png"/><img src="file:///home/dllu/proj/dllup-rs/img/2025-08-28-19-20-44_d2b0677b8cb4ceff.png" alt="" width="1200" height="553" loading="lazy" decoding="async" srcset="file:///home/dllu/proj/dllup-rs/img/2025-08-28-19-20-44_d2b0677b8cb4ceff-600.png 600w, file:///home/dllu/proj/dllup-rs/img/2025-08-28-19-20-44_d2b0677b8cb4ceff-1200.png 1200w, file:///home/dllu/proj/dllup-rs/img/2025-08-28-19-20-44_d2b0677b8cb4ceff.png 2450w" sizes="100vw"/></picture></a><figcaption><p><a href="#fig16" class="fignum">FIGURE 16</a> Ouster lidars have relatively complex multi-element lenses compared to single-element lenses on early Velodyne lidars. Source: <a href="https://www.youtube.com/watch?v=fFEmWubsE8U">How Ouster Digital Lidar Works</a></p><ul aria-label="download sizes"><li><a href="file:///home/dllu/proj/dllup-rs/img/2025-08-28-19-20-44_d2b0677b8cb4ceff-600.png">600 × 277</a></li><li><a href="file:///home/dllu/proj/dllup-rs/img/2025-08-28-19-20-44_d2b0677b8cb4ceff-1200.png">1200 × 553</a></li><li><a href="file:///home/dllu/proj/dllup-rs/img/2025-08-28-19-20-44_d2b0677b8cb4ceff.png">original 2450 × 1130</a></li></ul></figcaption></figure>
<p>For lasers, only VCSELs are compatible with this method.
As for detectors, SPADs are also vastly more amenable to solid state arrays, although APD arrays are also available (but with fewer elements).
This is because, as discussed earlier, SPADs are compatible with typical chipmaking technologies and they output digital signals rather than analog ones, so you can fabricate them on a single chip, whereas APDs would typically require discrete components.</p>
<p>With large arrays, a lidar could sequentially fire small parts of an array instead of all of it at once.
This is called <em>electronically scanning</em>.
In effect, it is similar to scanning, except there are fixed elements already pointed in different directions rather than the same element being made to point in different directions.
Electronically scanning has the advantage of less pixel crosstalk/blooming (more on this later) as well as being able to output more power per beam without running into thermal or safety limits.</p>
<h2 id="scanning-and-beam-steering-methods"><span id="s3.2">Scanning and beam steering methods</span></h2>
<h3 id="spinning"><span id="s3.2.1">Spinning</span></h3>
<p>Perhaps the most straightforward way to do beam steering is to just spin the whole lidar, which gives you 1D angular discernment.
The first advantage is that this gives you a 360 degree field of view.
This also has the advantage of being highly compatible with arrays, so you can have a vertical array while spinning horizontally.
Spinning lidars have basically only one moving part.</p>
<figure id="fig17"><a href="file:///home/dllu/proj/dllup-rs/img/lidars_2_8da8ee276729bd1a.png"><picture><source media="(max-width: 600px)" srcset="file:///home/dllu/proj/dllup-rs/img/lidars_2_8da8ee276729bd1a-600.png 600w" type="image/png"/><source media="(max-width: 1200px)" srcset="file:///home/dllu/proj/dllup-rs/img/lidars_2_8da8ee276729bd1a-1200.png 1200w" type="image/png"/><img src="file:///home/dllu/proj/dllup-rs/img/lidars_2_8da8ee276729bd1a.png" alt="" width="600" height="326" loading="lazy" decoding="async" srcset="file:///home/dllu/proj/dllup-rs/img/lidars_2_8da8ee276729bd1a-600.png 600w, file:///home/dllu/proj/dllup-rs/img/lidars_2_8da8ee276729bd1a-1200.png 1200w, file:///home/dllu/proj/dllup-rs/img/lidars_2_8da8ee276729bd1a.png 3490w" sizes="(max-width: 600px) 100vw, 600px"/></picture></a><figcaption><p><a href="#fig17" class="fignum">FIGURE 17</a> Size comparison between some spinning lidars.</p><ul aria-label="download sizes"><li><a href="file:///home/dllu/proj/dllup-rs/img/lidars_2_8da8ee276729bd1a-600.png">600 × 326</a></li><li><a href="file:///home/dllu/proj/dllup-rs/img/lidars_2_8da8ee276729bd1a-1200.png">1200 × 652</a></li><li><a href="file:///home/dllu/proj/dllup-rs/img/lidars_2_8da8ee276729bd1a.png">original 3490 × 1895</a></li></ul></figcaption></figure>
<p>An encoder is used to measure the angle of the turret.</p>
<p>The challenges of spinning are that:</p>
<ul><li>You need to send power and data between the spinning turret and the stationary base somehow. The earliest spinning multi-beam lidar, the Velodyne HDL-64E, used a mercury-wetted slip ring (Mercotac 305). This is very efficient, but expensive, fragile, and somewhat environmentally unfriendly. Later spinning lidars transmit power wirelessly through a transformer, and data wirelessly through an optical link.</li><li>The cylindrical window can degrade optical performance. Some lidars have compensator optics to suppress aberrations from the cylindrical window. The Quanergy M8 had a variant with an octagonal window instead. Some lidars spin externally (such as the Waymo Laser Bear Honeycomb, Velodyne HDL-64E, and Velodyne HDL 32). But spinning externally makes it less robust against the environment.</li><li>Thermal dissipation. The spinning turret houses most of the energy-intensive lasers but it has no direct contact with the outside except through the bearing.</li><li>Despite having only one moving part, the spinning turret is a rather large and heavy part, and some early spinning lidars like Velodynes tended to fail a lot when the bearing was damaged or wore out. This is an especially big problem if the turret isn’t well-balanced.</li></ul>
<h3 id="spinning-mirror"><span id="s3.2.2">Spinning mirror</span></h3>
<p>Using a spinning polygonal mirror is one of the oldest and most reliable ways to scan a laser beam, which is again a 1D scanning method.
This is used in, for example, laser printers.</p>
<figure id="fig18"><a href="file:///home/dllu/proj/dllup-rs/img/hex_scanner.svg"><picture><img src="file:///home/dllu/proj/dllup-rs/img/hex_scanner.svg" alt="Hexagonal mirror" width="600" height="520" loading="lazy" decoding="async" srcset="file:///home/dllu/proj/dllup-rs/img/hex_scanner.svg 600w" sizes="(max-width: 600px) 100vw, 600px"/></picture></a><figcaption><p><a href="#fig18" class="fignum">FIGURE 18</a> Animation of a laser beam being reflected by a rotating hexagonal mirror.</p><ul aria-label="download sizes"><li><a href="file:///home/dllu/proj/dllup-rs/img/hex_scanner.svg">Original</a></li></ul></figcaption></figure>
<p>As with spinning lidars, an encoder is used to measure the angle of the polygonal mirror.</p>
<p>Compared to spinning the whole turret, this has the main drawback of having a much narrower field of view (about 120 degrees is typical, as opposed to 360 degrees).
However, it has the advantage of having a lighter moving part without having to deal with power transmission and heat dissipation and stuff.</p>
<h3 id="oscillating-mirrorsgalvos"><span id="s3.2.3">Oscillating mirrors/galvos</span></h3>
<p>This is a flat mirror that oscillates in angle to steer the beam, which can be either 1D or 2D.</p>
<figure id="fig19"><a href="file:///home/dllu/proj/dllup-rs/img/flat_mirror_scanner.svg"><picture><img src="file:///home/dllu/proj/dllup-rs/img/flat_mirror_scanner.svg" alt="Oscillating mirror" width="600" height="520" loading="lazy" decoding="async" srcset="file:///home/dllu/proj/dllup-rs/img/flat_mirror_scanner.svg 600w" sizes="(max-width: 600px) 100vw, 600px"/></picture></a><figcaption><p><a href="#fig19" class="fignum">FIGURE 19</a> Animation of a laser beam being reflected by an oscillating mirror.</p><ul aria-label="download sizes"><li><a href="file:///home/dllu/proj/dllup-rs/img/flat_mirror_scanner.svg">Original</a></li></ul></figcaption></figure>
<p>Typically, a lightweight mirror is connected to a galvanometer in what’s called a <a href="https://en.wikipedia.org/wiki/Mirror_galvanometer">mirror galvanometer</a> (galvo).
A galvanometer is one of the most basic ways to measure electrical current: it consists of a spring, a magnet, and a solenoid.
When a current passes through the solenoid, it creates a magnetic field, which causes a torque to be applied as it tries to align itself with the magnet.
The spring resists this force, so the amount it ends up turning is dependent on the current.</p>
<p>Nowadays, fast galvos are incredibly good and are used in all sorts of applications, like laser light shows, engraving, and so on.</p>
<p>Compared to spinning mirrors, this is somewhat less reliable, since reciprocating motion is typically less reliable than constant rotation.</p>
<p>Unlike spinning mirrors, you can have a single mirror that’s actuated in two axes (a 2D galvo) that allows you to steer your beam in both directions with a single mirror.</p>
<h3 id="mems-mirror"><span id="s3.2.4">MEMS mirror</span></h3>
<p>A MEMS (micro-electromechanical system) mirror is simply a mirror that is really small, typically an oscillating mirror.
Because it is so small, it is typically considered “solid state” even if it is physically a moving part.
Like macroscopic oscillating mirrors, MEMS scanner may be either 1D or 2D.</p>
<p>The primary advantage of MEMS is low cost and relatively better reliability.
After all, the rate at which your moving part wears out is strongly dependent on the mass and moments of inertia of that moving part, so keeping it as light as possible makes it more resilient.</p>
<p>There are, however, a couple of drawbacks:</p>
<ul><li>The optical aperture may be limited by the tiny size of the mirror. With lasers, the bigger the aperture, the more it stays collimated (and hence the less it spreads out), so you want the aperture to be as large as possible usually.</li><li>Cooling a tiny mirror may be hard. Your entire laser output is bouncing off a tiny surface with tiny thermal pathways. Hence, the mirror should be kept as reflective as possible.</li></ul>
<h3 id="optical-phased-arrays"><span id="s3.2.5">Optical phased arrays</span></h3>
<p>A <a href="https://en.wikipedia.org/wiki/Phased_array">phased array</a> has many array elements whose phase is slightly offset. As the contributions from each element interfere, a beam is formed where they interfere constructively, and everywhere else, destructive interference causes it to cancel out.</p>
<figure id="fig20"><a href="file:///home/dllu/proj/dllup-rs/img/Phased_array_animation_with_arrow_10frames_371x400px_100ms.gif"><picture><img src="file:///home/dllu/proj/dllup-rs/img/Phased_array_animation_with_arrow_10frames_371x400px_100ms.gif" alt="Phased array" width="371" height="400" loading="lazy" decoding="async" srcset="file:///home/dllu/proj/dllup-rs/img/Phased_array_animation_with_arrow_10frames_371x400px_100ms.gif 371w" sizes="(max-width: 371px) 100vw, 371px"/></picture></a><figcaption><p><a href="#fig20" class="fignum">FIGURE 20</a> Phased array animation. Source: <a href="https://en.wikipedia.org/wiki/File:Phased_array_animation_with_arrow_10frames_371x400px_100ms.gif">Chetvorno on Wikimedia Commons</a>.</p><ul aria-label="download sizes"><li><a href="file:///home/dllu/proj/dllup-rs/img/Phased_array_animation_with_arrow_10frames_371x400px_100ms.gif">original 371 × 400</a></li></ul></figcaption></figure>
<p>Phased arrays are common in radar. However, the fundamental physical problem of phased arrays is that the element size must be close to the size of the wavelength, and the wavelength of light (about a micron) is way smaller than the wavelength of radio waves (ranging from millimeters to many meters).
If your array spacing is too big, your beam would have very poor collimation and tons of side lobes.</p>
<p>You can used phased arrays for both the transmitter and receiver.
For the receiver, you would have an array of <strong>optical antennae</strong> which are tiny nanophotonic detectors that can each measure the phase and amplitude.</p>
<p>So far, due to the physical challenges with phased arrays, all the existing products (such as the Quanergy S3) are very low quality. Israeli startup Oryx Vision tried optical antennae and <a href="https://image-sensors-world.blogspot.com/2019/08/lidar-startup-oryx-vision-shuts-down.html">unfortunately shut down in 2019</a>.</p>
<h3 id="baraja-spectrumscan"><span id="s3.2.6">Baraja SpectrumScan</span></h3>
<p>This uses a frequency sweep laser with a fixed prism.
Prisms have dispersion, which means that the index of refraction changes with wavelength (hence turning sunlight into a rainbow), so by changing the wavelength of the laser, the angle is changed.
This allows it to scan in 1D.
Baraja uses a MEMS mirror for the other axis.</p>
<figure id="fig21"><a href="file:///home/dllu/proj/dllup-rs/img/2020-01-09-11-44-04_DSCF4282_a2f1eb656caea1b95a9ee0283b0a3ecfa041faba_23b4512de55342b5.jpg"><picture><source media="(max-width: 600px)" srcset="file:///home/dllu/proj/dllup-rs/img/2020-01-09-11-44-04_DSCF4282_a2f1eb656caea1b95a9ee0283b0a3ecfa041faba_23b4512de55342b5-600.jpg 600w" type="image/jpeg"/><source media="(max-width: 1200px)" srcset="file:///home/dllu/proj/dllup-rs/img/2020-01-09-11-44-04_DSCF4282_a2f1eb656caea1b95a9ee0283b0a3ecfa041faba_23b4512de55342b5-1200.jpg 1200w" type="image/jpeg"/><source media="(max-width: 3840px)" srcset="file:///home/dllu/proj/dllup-rs/img/2020-01-09-11-44-04_DSCF4282_a2f1eb656caea1b95a9ee0283b0a3ecfa041faba_23b4512de55342b5-3840.jpg 3840w" type="image/jpeg"/><source media="(max-width: 7680px)" srcset="file:///home/dllu/proj/dllup-rs/img/2020-01-09-11-44-04_DSCF4282_a2f1eb656caea1b95a9ee0283b0a3ecfa041faba_23b4512de55342b5-7680.jpg 7680w" type="image/jpeg"/><img src="file:///home/dllu/proj/dllup-rs/img/2020-01-09-11-44-04_DSCF4282_a2f1eb656caea1b95a9ee0283b0a3ecfa041faba_23b4512de55342b5.jpg" alt="" width="600" height="450" loading="lazy" decoding="async" srcset="file:///home/dllu/proj/dllup-rs/img/2020-01-09-11-44-04_DSCF4282_a2f1eb656caea1b95a9ee0283b0a3ecfa041faba_23b4512de55342b5-600.jpg 600w, file:///home/dllu/proj/dllup-rs/img/2020-01-09-11-44-04_DSCF4282_a2f1eb656caea1b95a9ee0283b0a3ecfa041faba_23b4512de55342b5-1200.jpg 1200w, file:///home/dllu/proj/dllup-rs/img/2020-01-09-11-44-04_DSCF4282_a2f1eb656caea1b95a9ee0283b0a3ecfa041faba_23b4512de55342b5-3840.jpg 3840w, file:///home/dllu/proj/dllup-rs/img/2020-01-09-11-44-04_DSCF4282_a2f1eb656caea1b95a9ee0283b0a3ecfa041faba_23b4512de55342b5-7680.jpg 7680w, file:///home/dllu/proj/dllup-rs/img/2020-01-09-11-44-04_DSCF4282_a2f1eb656caea1b95a9ee0283b0a3ecfa041faba_23b4512de55342b5.jpg 8256w" sizes="(max-width: 600px) 100vw, 600px"/></picture></a><figcaption><p><a href="#fig21" class="fignum">FIGURE 21</a> Baraja lidar.</p><details><summary>Image metadata</summary><ul><li><strong>Camera</strong>: FUJIFILM GFX 50R</li><li><strong>Lens</strong>: GF23mmF4 R LM WR</li><li><strong>Aperture</strong>: f/4.0</li><li><strong>Shutter speed</strong>: 1/60 s</li><li><strong>ISO</strong>: ISO 250</li><li><strong>Software</strong>: Digital Camera GFX 50R Ver1.00</li><li><strong>Original date</strong>: 2020:01:09 11:44:04</li></ul></details><ul aria-label="download sizes"><li><a href="file:///home/dllu/proj/dllup-rs/img/2020-01-09-11-44-04_DSCF4282_a2f1eb656caea1b95a9ee0283b0a3ecfa041faba_23b4512de55342b5-600.jpg">600 × 450</a></li><li><a href="file:///home/dllu/proj/dllup-rs/img/2020-01-09-11-44-04_DSCF4282_a2f1eb656caea1b95a9ee0283b0a3ecfa041faba_23b4512de55342b5-1200.jpg">1200 × 900</a></li><li><a href="file:///home/dllu/proj/dllup-rs/img/2020-01-09-11-44-04_DSCF4282_a2f1eb656caea1b95a9ee0283b0a3ecfa041faba_23b4512de55342b5-3840.jpg">3840 × 2880</a></li><li><a href="file:///home/dllu/proj/dllup-rs/img/2020-01-09-11-44-04_DSCF4282_a2f1eb656caea1b95a9ee0283b0a3ecfa041faba_23b4512de55342b5-7680.jpg">7680 × 5760</a></li><li><a href="file:///home/dllu/proj/dllup-rs/img/2020-01-09-11-44-04_DSCF4282_a2f1eb656caea1b95a9ee0283b0a3ecfa041faba_23b4512de55342b5.jpg">original 8256 × 6192</a></li></ul></figcaption></figure>
<p>This requires using a high quality fiber laser or tunable diodes that can do large frequency sweeps, which can be costly.</p>
<h3 id="risley-prisms"><span id="s3.2.7">Risley prisms</span></h3>
<p>A prism is a triangular piece of glass that can bend light.
<a href="https://en.wikipedia.org/wiki/Risley_prisms">Risley prisms</a> are a pair of two prisms that can rotate along the optical axis.
When the prisms are lined up, they both bend light the same way, and the beam gets bent a lot.
When they are opposite of each other, they cancel each other out, and the beam goes through straight without bending.</p>
<figure id="fig22"><a href="file:///home/dllu/proj/dllup-rs/img/risley_prism_animation.gif"><picture><img src="file:///home/dllu/proj/dllup-rs/img/risley_prism_animation.gif" alt="" width="600" height="400" loading="lazy" decoding="async" srcset="file:///home/dllu/proj/dllup-rs/img/risley_prism_animation.gif 600w" sizes="(max-width: 600px) 100vw, 600px"/></picture></a><figcaption><p><a href="#fig22" class="fignum">FIGURE 22</a> Animation of how Risley prisms work.</p><ul aria-label="download sizes"><li><a href="file:///home/dllu/proj/dllup-rs/img/risley_prism_animation.gif">original 600 × 400</a></li></ul></figcaption></figure>
<figure id="fig23"><a href="file:///home/dllu/proj/dllup-rs/img/risley2.svg"><picture><img src="file:///home/dllu/proj/dllup-rs/img/risley2.svg" alt="Risley prism" width="600" height="417" loading="lazy" decoding="async" srcset="file:///home/dllu/proj/dllup-rs/img/risley2.svg 600w" sizes="(max-width: 600px) 100vw, 600px"/></picture></a><figcaption><p><a href="#fig23" class="fignum">FIGURE 23</a> Simplified diagram showing how Risley prisms work.</p><ul aria-label="download sizes"><li><a href="file:///home/dllu/proj/dllup-rs/img/risley2.svg">Original</a></li></ul></figcaption></figure>
<p>Basically, when you have two prisms, one with angle <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>θ</mi></mrow><annotation encoding="application/x-tex">\theta</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span></span></span></span> and one with angle <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>ω</mi><mi>θ</mi></mrow><annotation encoding="application/x-tex">\omega \theta</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span></span></span></span>, the <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi><mo separator="true">,</mo><mi>y</mi></mrow><annotation encoding="application/x-tex">x, y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span></span></span> direction of the beam is proportional to:</p>
<div class="math" id="eq4"><a href="#eq4" class="eqnum">4</a> <span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable rowspacing="0.25em" columnalign="right left" columnspacing="0em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mi>x</mi></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo><mi>sin</mi><mo>⁡</mo><mi>θ</mi><mo>+</mo><mi>sin</mi><mo>⁡</mo><mi>ω</mi><mi>θ</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mi>y</mi></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo><mi>cos</mi><mo>⁡</mo><mi>θ</mi><mo>+</mo><mi>cos</mi><mo>⁡</mo><mi>ω</mi><mi>θ</mi></mrow></mstyle></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{aligned}x &amp;= \sin\theta + \sin\omega\theta\\
  y &amp;= \cos\theta + \cos\omega\theta\end{aligned}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:3em;vertical-align:-1.25em;"></span><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.75em;"><span style="top:-3.91em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">x</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.25em;"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.75em;"><span style="top:-3.91em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mop">sin</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mop">sin</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mop">cos</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mop">cos</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.25em;"><span></span></span></span></span></span></span></span></span></span></span></span></div>
<p>which results in this scan pattern if the two prisms are going at constant speeds with a fixed speed ratio <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>ω</mi></mrow><annotation encoding="application/x-tex">\omega</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span></span></span></span>:</p>
<div>
<canvas id="risley-canvas" width="600" height="600" style="margin: 0 auto; max-width: 600px"></canvas>
<p>Speed ratio between prisms: <span id="risley-omega">-0.743</span></p>
<input id="risley-input" type="range"  min="-1000" max="1000" value="-743">
</div>
<script>
var theta = 0;
var omega = -0.743;
document.getElementById('risley-input').value = omega * 100;
var risley_speed = 200;
var risley_amount = 0;

function reset_risley() {
    risley_speed = 200;
    risley_amount = 0;
    var canvas = document.getElementById('risley-canvas');
    var ctx = canvas.getContext('2d');
    ctx.clearRect(0, 0, 600, 600);
}

function draw() {
    var canvas = document.getElementById('risley-canvas');
    var ctx = canvas.getContext('2d');
    ctx.lineWidth = 2;
    ctx.strokeStyle = '#f00';
    ctx.beginPath();
    var r = 300;
    for (var i = 0; i < risley_speed; i++) {
        theta += 0.003;
        var x = r + 0.48 * r * Math.sin(theta) + 0.48 * r * Math.sin(omega * theta);
        var y = r + 0.48 * r * Math.cos(theta) + 0.48 * r * Math.cos(omega * theta);
        ctx.lineTo(x, y);
    }
    if (risley_speed < 200) risley_speed += 1;
    risley_amount++;
    ctx.stroke();
    window.requestAnimationFrame(draw);
    if (risley_amount > 60 * 20) {
        // reset every 20 seconds
        reset_risley();
    }
}
draw();

document.getElementById('risley-input').oninput = function(e) {
    omega = this.value / 100;
    document.getElementById('risley-omega').innerText = omega;
    reset_risley();
}
</script>
<p>The Livox lidars are notable for using Risley prisms.
You can make other scan patterns by varying the speed of the prisms, and by putting an array of multiple lasers (e.g. the Livox Horizon’s 6 lasers) instead of one laser.</p>
<figure id="fig24"><a href="file:///home/dllu/proj/dllup-rs/img/livox-mid70.png"><picture><source media="(max-width: 600px)" srcset="file:///home/dllu/proj/dllup-rs/img/livox-mid70-600.png 600w" type="image/png"/><img src="file:///home/dllu/proj/dllup-rs/img/livox-mid70.png" alt="" width="600" height="600" loading="lazy" decoding="async" srcset="file:///home/dllu/proj/dllup-rs/img/livox-mid70-600.png 600w, file:///home/dllu/proj/dllup-rs/img/livox-mid70.png 1184w" sizes="(max-width: 600px) 100vw, 600px"/></picture></a><figcaption><p><a href="#fig24" class="fignum">FIGURE 24</a> Livox Mid-70. Source: <a href="https://www.livoxtech.com/mid-70">Livox website</a>.</p><ul aria-label="download sizes"><li><a href="file:///home/dllu/proj/dllup-rs/img/livox-mid70-600.png">600 × 600</a></li><li><a href="file:///home/dllu/proj/dllup-rs/img/livox-mid70.png">original 1184 × 1184</a></li></ul></figcaption></figure>
<p>The advantage of Risley prisms is that, like polygonal mirrors, it’s cheap and robust to have things spinning at a constant speed.
However, the disadvantage is very narrow field of view, and a weird scanning pattern.
For some applications, the scan pattern can be an advantage, for example surveying applications where the lidar can be stationary for long periods of time, gradually covering a dense area.</p>
<h2 id="combining-two-1d-methods"><span id="s3.3">Combining two 1D methods</span></h2>
<p>Many lidars combine two 1D methods, e.g.:</p>
<ul><li>Horizontally spinning turret + vertical array (e.g. Velodyne pucks, Ouster OS series, Hesai Pandar)</li><li>Horizontally spinning turret + vertically spinning polygonal mirror (e.g. Leica BLK360)</li><li>Horizontal spinning mirror + vertical spinning or oscillating mirror (e.g. Luminar Iris, Seyond Falcon)</li><li>Horizontal spinning mirror + array (e.g. Hesai AT512)</li></ul>
<h1 id="choice-of-wavelength-and-eye-safety"><span id="s4">Choice of wavelength and eye safety</span></h1>
<p>For lidars, two choices of wavelength are popular:</p>
<ul><li>near infrared, e.g. 850 nm, 865 nm, 905 nm, 940 nm</li><li>1550 nm</li></ul>
<p>The main advantage of near IR is that silicon is sensitive in that region, allowing much cheaper, more sensitive silicon detectors, as well as cheap laser sources.
In contrast, with 1550 nm, you would need InGaAs semiconductors for your detectors, which are less sensitive and very expensive.</p>
<p>Meanwhile, the main advantage of 1550 nm is that eye safety regulations allow devices to output vastly more power at 1550 nm than in the near IR regime.
As a result, 1550 nm lidars tend to have longer range in general.</p>
<figure id="fig25"><a href="file:///home/dllu/proj/dllup-rs/img/IEC60825_MPE_J_nm.png"><picture><source media="(max-width: 600px)" srcset="file:///home/dllu/proj/dllup-rs/img/IEC60825_MPE_J_nm-600.png 600w" type="image/png"/><img src="file:///home/dllu/proj/dllup-rs/img/IEC60825_MPE_J_nm.png" alt="MPE" width="600" height="420" loading="lazy" decoding="async" srcset="file:///home/dllu/proj/dllup-rs/img/IEC60825_MPE_J_nm-600.png 600w, file:///home/dllu/proj/dllup-rs/img/IEC60825_MPE_J_nm.png 1000w" sizes="(max-width: 600px) 100vw, 600px"/></picture></a><figcaption><p><a href="#fig25" class="fignum">FIGURE 25</a> Maximum permissible exposure according to IEC60825. Source: <a href="https://en.wikipedia.org/wiki/File:IEC60825_MPE_J_nm.png">Hankwang from English Wikipedia</a></p><ul aria-label="download sizes"><li><a href="file:///home/dllu/proj/dllup-rs/img/IEC60825_MPE_J_nm-600.png">600 × 420</a></li><li><a href="file:///home/dllu/proj/dllup-rs/img/IEC60825_MPE_J_nm.png">original 1000 × 700</a></li></ul></figcaption></figure>
<p>You can see in the above chart that you are allowed to output hundreds of times more power in the steady state scenario (red curve) at 1550 nm compared to, say, 905 nm. The reason is that the human eyeball focuses near IR light to small spots on the retina, so intense light may damage the retina. On the other hand, 1550 nm light is not focused and is attenuated by water, but at high enough intensities, it will damage the cornea instead.</p>
<p>In practice, manufacturers carefully tune the power of the lasers to be just below the eye safety threshold for both 1550 nm lidars and near IR lidars.
That is to say, 1550 nm lidars do in fact output up to 1,000,000 times more pulse energy than 905 nm ones.</p>
<p>Paradoxically, 1550 nm lidars may be more dangerous overall, because of the following reasons:</p>
<ul><li>If you have many lidars around, the beams from each 905 nm lidar will be focused to a different spot on your retina, and you are no worse off than if there was a single lidar. But if there are many 1550 nm lidars around, their beams will have a cumulative effect at heating up your cornea, potentially exceeding the safety threshold.</li><li>1550 nm lidars more often rely on beam steering since it is impractical to have an array of expensive fiber lasers. However, if the beam steering were to fail, the laser beam may be fixed in one direction. This can cause laser energy levels thousands of times stronger than the safety threshold in a particular direction, even when the lidar would be under the threshold when it’s scanning properly.</li><li>1550 nm lidars are known to damage cameras. For example, both <a href="https://arstechnica.com/cars/2019/01/man-says-ces-lidars-laser-was-so-powerful-it-wrecked-his-1998-camera/">AEye lidars</a> and <a href="https://www.jalopnik.com/1866994/lidar-permanently-damage-phone-camera/">Luminar lidars on the Volvo EX90</a> are known to destroy cameras. This is an especially worrisome problem with pulsed 1550 nm lidar, but FMCW lidars have a continuous wave with lower peak power and may be slightly safer.</li></ul>
<p>Eye safety aside, 1550 nm is also somewhat more attenuated by both water and water vapor, so they are likely to perform worse in poor weather.
In fog, <a href="https://en.wikipedia.org/wiki/Mie_scattering">Mie scattering</a> of the water droplets may also impact 1550 nm lidar more, as fog droplets are about 1.5 microns, and the scattering is more as the size of the sphere approaches the wavelength.
That said, 1550 nm lidars do have better range to begin with, thanks to outputting a lot more power, so even with attenuation, they are still competitive in rainy situations.</p>
<h1 id="laser-sources"><span id="s5">Laser sources</span></h1>
<p>There are basically three commonly used types of lasers:</p>
<ul><li><a href="https://en.wikipedia.org/wiki/Vertical-cavity_surface-emitting_laser">Vertical cavity surface emitting laser</a> (VCSEL)</li><li>Edge-emitting <a href="https://en.wikipedia.org/wiki/Laser_diode">laser diodes</a></li><li><a href="https://en.wikipedia.org/wiki/Fiber_laser">Fiber lasers</a></li></ul>
<figure id="table5"><table><tr><th>Laser type</th><th>Typical wavelength(s)</th><th>Beam quality (M²)</th><th>Coherence / FMCW-ready</th><th>Power per element</th><th>Cost</th><th>Array?</th></tr><tr><td>————————————–</td><td>———————————</td><td>———————–</td><td>————————————————————————————-</td><td>———————————-</td><td>——–</td><td>—————————————————————————————</td></tr><tr><td><strong>VCSEL</strong></td><td>850–940 nm</td><td>Very good, circular</td><td><strong>Low–mid</strong> linewidth</td><td><strong>Low</strong> (mW-tens mW)</td><td><strong>Low</strong></td><td><strong>Excellent</strong>: monolithic <strong>2D arrays</strong> (10²–10⁵ emitters), fine pitch, easy eye-safety</td></tr><tr><td><strong>Edge-emitting diodes</strong></td><td>905 nm, 1350-1550 nm</td><td>Good (often elliptical)</td><td><strong>Mid–high</strong></td><td><strong>Mid</strong> (100 mW–W class with bars)</td><td><strong>Mid</strong></td><td><strong>Good</strong>: <strong>1D bars/arrays</strong> (dozens–hundreds)</td></tr><tr><td><strong>Fiber/ECDL</strong></td><td>1550 nm</td><td>Excellent</td><td><strong>High</strong> (kHz–100 kHz LW) <strong>best for FMCW</strong></td><td><strong>High</strong> (W class via fiber amps)</td><td><strong>High</strong></td><td><strong>Poor</strong> as dense arrays; usually single source + split/steer</td></tr></table><figcaption><a href="#table5" class="fignum">Table 5</a> Summary of laser types</figcaption></figure>
<p>Vertical cavity surface-emitting lasers (VCSELs) are very cheap and you can make a bunch of them on a chip in a chip-scale solid state array.
They are called “vertical cavity” because the beam comes out perpendicular to the chip.
You make them by depositing several layers of material on the chip.
The main drawback is that they are low peak power.</p>
<p>Edge-emitting laser diodes are a mature technology and are cheap enough to be 1D arrays.</p>
<p>Fiber lasers produce high quality light that is highly coherent. But they are quite expensive so you can probably just afford one or two per lidar.
Some lidars split one laser between many lidar heads, as in the case of Baraja’s lidar.
Not only are fiber lasers more coherent, they can output millions of times greater power than edge-emitting diode lasers and VCSELs as well as much shorter pulses.
Having shorter pulses is very advantageous for pulsed lidar as it improves the range resolution.
Some fiber lasers can also vary the wavelength in highly linear chirps, allowing use in FMCW lidars.</p>
<p>The development of these lasers is highly driven by the telecommunications industry where they are used in fiber optics, so the lidar industry sort of profits from that for free.</p>
<h1 id="common-lidar-problems"><span id="s6">Common lidar problems</span></h1>
<h2 id="beam-angle-calibration"><span id="s6.1">Beam angle calibration</span></h2>
<p>Most spinning + array lidars need a calibrated list of angles, one per beam.
Some manufacturers, like Ouster, provide a JSON metadata file containing the elevation and azimuth angles of each of the 128 beams, which is calibrated per lidar.
Some manufacturers simply give a nominal set of beam angles for a lidar model that is assumed to be the same for each individual lidar, but in practice, each lidar varies slightly due to manufacturing tolerances.
Early Velodynes had very bad beam angles as each of the many circuit boards was individually glued in place and manually aligned.</p>
<p>Here are some ways lidar measurements could have bad beam angles:</p>
<ul><li>Accidentally forgetting to use the lidar-specific beam angles, or the manufacturer doesn’t provide them</li><li>All the beams are offset by some angle even with lidar-specific beam angles, e.g. bad factory calibration, the lidar got bumped, or due to thermal expansion</li></ul>
<p>This would typically manifest as the ground curving slightly, or the trajectory of the robot curving up or down even when it is expected to be flat.</p>
<p>The well-known KITTI dataset is known to have bad beam angles, and some publications have to manually calibrate them in order to achieve good results. For example, in <a href="https://arxiv.org/abs/1802.08633">IMLS-SLAM by J. E. Deschaud</a>:</p>
<blockquote>The drift we get on the KITTI benchmark is not as good as the results we obtained with the Velodyne HDL32. This is due to three facts. First, we found a distortion of the scan point clouds because of a bad intrinsic calibration (we did a calibration of the intrinsic vertical angle of all laser beams of 0.22 degrees using the training data). Second, we found big errors in GPS data (used as ground truth) with, for example, more than 5 m in the beginning of sequence 8.
</blockquote>
<h2 id="range-offsets"><span id="s6.2">Range offsets</span></h2>
<p>Lidars sometimes have different range offsets for each laser.
This can happen when using discrete arrays where each laser-detector pair are separate components that need to be individually calibrated.</p>
<figure id="fig26"><a href="file:///home/dllu/proj/dllup-rs/img/kitti-range-offset_bb09c63a30681590.png"><picture><source media="(max-width: 600px)" srcset="file:///home/dllu/proj/dllup-rs/img/kitti-range-offset_bb09c63a30681590-600.png 600w" type="image/png"/><source media="(max-width: 1200px)" srcset="file:///home/dllu/proj/dllup-rs/img/kitti-range-offset_bb09c63a30681590-1200.png 1200w" type="image/png"/><img src="file:///home/dllu/proj/dllup-rs/img/kitti-range-offset_bb09c63a30681590.png" alt="" width="600" height="338" loading="lazy" decoding="async" srcset="file:///home/dllu/proj/dllup-rs/img/kitti-range-offset_bb09c63a30681590-600.png 600w, file:///home/dllu/proj/dllup-rs/img/kitti-range-offset_bb09c63a30681590-1200.png 1200w, file:///home/dllu/proj/dllup-rs/img/kitti-range-offset_bb09c63a30681590.png 3000w" sizes="(max-width: 600px) 100vw, 600px"/></picture></a><figcaption><p><a href="#fig26" class="fignum">FIGURE 26</a> Two views of a flat wall in <code>2011_09_26/2011_09_26_drive_0084_extract/velodyne_points/data/0000000035.txt</code> from the <a href="https://www.cvlibs.net/datasets/kitti/raw_data.php">KITTI dataset</a>. Due to uncalibrated range offsets for some of the lasers of the Velodyne HDL-64E used, points from certain beams are offset by several centimeters.</p><ul aria-label="download sizes"><li><a href="file:///home/dllu/proj/dllup-rs/img/kitti-range-offset_bb09c63a30681590-600.png">600 × 338</a></li><li><a href="file:///home/dllu/proj/dllup-rs/img/kitti-range-offset_bb09c63a30681590-1200.png">1200 × 676</a></li><li><a href="file:///home/dllu/proj/dllup-rs/img/kitti-range-offset_bb09c63a30681590.png">original 3000 × 1689</a></li></ul></figcaption></figure>
<h2 id="pixel-crosstalkblooming"><span id="s6.3">Pixel crosstalk/blooming</span></h2>
<p>Blooming affects many lidars.
Think of pointing a camera at the sun. There would be huge lens flare and brightness all around the sun.
In effect, the light from the sun is “smeared” out onto neighboring pixels.
Likewise, when there’s a strong lidar return, there could be spurious next to the shiny object.</p>
<p>With array lidars, neighboring detectors sometimes pick up on the return meant for a different detector. This is called crosstalk.
However, even single beam lidars can suffer from blooming just due to the fact that the beam has some divergence and that the optics are imperfect.</p>
<figure id="fig27"><a href="file:///home/dllu/proj/dllup-rs/img/argo-bloom.jpeg"><picture><source media="(max-width: 600px)" srcset="file:///home/dllu/proj/dllup-rs/img/argo-bloom-600.jpg 600w" type="image/jpeg"/><img src="file:///home/dllu/proj/dllup-rs/img/argo-bloom.jpeg" alt="" width="600" height="362" loading="lazy" decoding="async" srcset="file:///home/dllu/proj/dllup-rs/img/argo-bloom-600.jpg 600w, file:///home/dllu/proj/dllup-rs/img/argo-bloom.jpeg 1127w" sizes="(max-width: 600px) 100vw, 600px"/></picture></a><figcaption><p><a href="#fig27" class="fignum">FIGURE 27</a> An early prototype of the now-defunct Argo lidar illuminates the scene a whole column at a time, making it susceptible to blooming in the form of vertical columns. Source: <a href="https://web.archive.org/web/20221208123827/https://www.youtube.com/watch?v=I_tYxMh3ddA">Argo AI on YouTube</a></p><ul aria-label="download sizes"><li><a href="file:///home/dllu/proj/dllup-rs/img/argo-bloom-600.jpg">600 × 362</a></li><li><a href="file:///home/dllu/proj/dllup-rs/img/argo-bloom.jpeg">original 1127 × 680</a></li></ul></figcaption></figure>
<figure id="fig28"><a href="file:///home/dllu/proj/dllup-rs/img/ousterbloom_c33a2116dc78fe38.png"><picture><source media="(max-width: 600px)" srcset="file:///home/dllu/proj/dllup-rs/img/ousterbloom_c33a2116dc78fe38-600.png 600w" type="image/png"/><source media="(max-width: 1200px)" srcset="file:///home/dllu/proj/dllup-rs/img/ousterbloom_c33a2116dc78fe38-1200.png 1200w" type="image/png"/><img src="file:///home/dllu/proj/dllup-rs/img/ousterbloom_c33a2116dc78fe38.png" alt="" width="600" height="316" loading="lazy" decoding="async" srcset="file:///home/dllu/proj/dllup-rs/img/ousterbloom_c33a2116dc78fe38-600.png 600w, file:///home/dllu/proj/dllup-rs/img/ousterbloom_c33a2116dc78fe38-1200.png 1200w, file:///home/dllu/proj/dllup-rs/img/ousterbloom_c33a2116dc78fe38.png 1966w" sizes="(max-width: 600px) 100vw, 600px"/></picture></a><figcaption><p><a href="#fig28" class="fignum">FIGURE 28</a> Spurious bloom returns around a retroreflector for an early Ouster OS1 prototype from 2022. Note that later firmware upgrades mitigated the issue. Source: <a href="https://studio.ouster.com/share/HRFP6K2AXZ1VFJ9I">Ouster marketing data</a>.</p><ul aria-label="download sizes"><li><a href="file:///home/dllu/proj/dllup-rs/img/ousterbloom_c33a2116dc78fe38-600.png">600 × 316</a></li><li><a href="file:///home/dllu/proj/dllup-rs/img/ousterbloom_c33a2116dc78fe38-1200.png">1200 × 632</a></li><li><a href="file:///home/dllu/proj/dllup-rs/img/ousterbloom_c33a2116dc78fe38.png">original 1966 × 1035</a></li></ul></figcaption></figure>
<p>This effect typically can’t be easily calibrated away, and is usually handled in lidar firmware.</p>
<h2 id="intensitydependent-range-bias"><span id="s6.4">Intensity-dependent range bias</span></h2>
<p>This typically affects SPAD lidars like early Ouster lidars and the now-defunct Argo (formerly Princeton Lightwave) lidar.
The reason is that when the return is very strong, all the SPADS get saturated at the beginning of the pulse.</p>
<figure id="fig29"><a href="file:///home/dllu/proj/dllup-rs/img/argo-bias.jpeg"><picture><source media="(max-width: 600px)" srcset="file:///home/dllu/proj/dllup-rs/img/argo-bias-600.jpg 600w" type="image/jpeg"/><source media="(max-width: 1200px)" srcset="file:///home/dllu/proj/dllup-rs/img/argo-bias-1200.jpg 1200w" type="image/jpeg"/><img src="file:///home/dllu/proj/dllup-rs/img/argo-bias.jpeg" alt="" width="600" height="331" loading="lazy" decoding="async" srcset="file:///home/dllu/proj/dllup-rs/img/argo-bias-600.jpg 600w, file:///home/dllu/proj/dllup-rs/img/argo-bias-1200.jpg 1200w, file:///home/dllu/proj/dllup-rs/img/argo-bias.jpeg 1242w" sizes="(max-width: 600px) 100vw, 600px"/></picture></a><figcaption><p><a href="#fig29" class="fignum">FIGURE 29</a> For specular reflections, there’s a spike in the point cloud from this early prototype of the Argo lidar. Source: <a href="https://web.archive.org/web/20221208123827/https://www.youtube.com/watch?v=I_tYxMh3ddA">Argo AI on YouTube</a></p><ul aria-label="download sizes"><li><a href="file:///home/dllu/proj/dllup-rs/img/argo-bias-600.jpg">600 × 331</a></li><li><a href="file:///home/dllu/proj/dllup-rs/img/argo-bias-1200.jpg">1200 × 662</a></li><li><a href="file:///home/dllu/proj/dllup-rs/img/argo-bias.jpeg">original 1242 × 685</a></li></ul></figcaption></figure>
<figure id="fig30" class="wide"><a href="file:///home/dllu/proj/dllup-rs/img/2025-08-28-19-06-37_536a815c35bc56c8.png"><picture><source media="(max-width: 600px)" srcset="file:///home/dllu/proj/dllup-rs/img/2025-08-28-19-06-37_536a815c35bc56c8-600.png 600w" type="image/png"/><source media="(max-width: 1200px)" srcset="file:///home/dllu/proj/dllup-rs/img/2025-08-28-19-06-37_536a815c35bc56c8-1200.png 1200w" type="image/png"/><img src="file:///home/dllu/proj/dllup-rs/img/2025-08-28-19-06-37_536a815c35bc56c8.png" alt="" width="1200" height="496" loading="lazy" decoding="async" srcset="file:///home/dllu/proj/dllup-rs/img/2025-08-28-19-06-37_536a815c35bc56c8-600.png 600w, file:///home/dllu/proj/dllup-rs/img/2025-08-28-19-06-37_536a815c35bc56c8-1200.png 1200w, file:///home/dllu/proj/dllup-rs/img/2025-08-28-19-06-37_536a815c35bc56c8.png 2412w" sizes="100vw"/></picture></a><figcaption><p><a href="#fig30" class="fignum">FIGURE 30</a> Subtle range bias on highly reflective painted stripes of a pedestrian crossing for an early Ouster OS1 prototype from 2022. Source: <a href="https://studio.ouster.com/share/HRFP6K2AXZ1VFJ9I?frame=9">Ouster marketing data</a>.</p><ul aria-label="download sizes"><li><a href="file:///home/dllu/proj/dllup-rs/img/2025-08-28-19-06-37_536a815c35bc56c8-600.png">600 × 248</a></li><li><a href="file:///home/dllu/proj/dllup-rs/img/2025-08-28-19-06-37_536a815c35bc56c8-1200.png">1200 × 496</a></li><li><a href="file:///home/dllu/proj/dllup-rs/img/2025-08-28-19-06-37_536a815c35bc56c8.png">original 2412 × 996</a></li></ul></figcaption></figure>
<p>Typically, a pulse is a few nanoseconds long, which means up to a few meters in physical length of the light pulse.
Even a slight saturation effect can cause the the peak of the time series to be biased significantly.
Very advanced signal processing techniques are needed to compensate for this.</p>
<h2 id="encoder-hysteresis"><span id="s6.5">Encoder hysteresis</span></h2>
<p>Hysteresis in an encoder would typically manifest as some kind of lag, e.g. if it’s rotating clockwise, it could output measurements with slightly different offset than when it’s at the same angle but rotating counter clockwise.
Some lidars, such as the Luminar Iris, use encoders for an oscillating beam scanner for vertical beam scanning.
It also has a mode where part of the point cloud is an “up-scan” and the other part is a “down-scan”, and the two are superimposed.
Often, the point cloud of the up- and down-scans do not align well, even when the vehicle is stationary, suggesting that there may be hysteresis in the encoder.</p>
<p>This may manifest as double-layer point clouds in the ground.</p>
<h2 id="encoder-physical-offset"><span id="s6.6">Encoder physical offset</span></h2>
<p>The encoder used in many spinning lidars is a circular ring with a bunch of ticks engraved on it at regular intervals.</p>
<p>However, it is possible that the encoder is physically offset to the side, because the ring is often just glued in place by humans.
This results in a sinusoidal error.</p>
<div class="math" id="eq5"><a href="#eq5" class="eqnum">5</a> <span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable rowspacing="0.25em" columnalign="right" columnspacing=""><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mi>f</mi><mo stretchy="false">(</mo><mi>θ</mi><mo separator="true">,</mo><mi>ϵ</mi><mo stretchy="false">)</mo><mo>=</mo><msup><mrow><mi>tan</mi><mo>⁡</mo></mrow><mrow><mo>−</mo><mn>1</mn></mrow></msup><mrow><mo fence="true">(</mo><mfrac><mrow><mi>sin</mi><mo>⁡</mo><mi>θ</mi></mrow><mrow><mi>cos</mi><mo>⁡</mo><mi>θ</mi><mo>+</mo><mi>ϵ</mi></mrow></mfrac><mo fence="true">)</mo></mrow><mo>≈</mo><mi>θ</mi><mo>−</mo><mi>ϵ</mi><mi>sin</mi><mo>⁡</mo><mi>θ</mi></mrow></mstyle></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{aligned}f(\theta, \epsilon) = \tan^{-1}\left(\frac{\sin\theta}{\cos\theta + \epsilon}\right) \approx \theta - \epsilon \sin \theta\end{aligned}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:2.7em;vertical-align:-1.1em;"></span><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.6em;"><span style="top:-3.6em;"><span class="pstrut" style="height:3.45em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">ϵ</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mop"><span class="mop">tan</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">(</span></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3714em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mop">cos</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">ϵ</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mop">sin</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.7693em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">)</span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">≈</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">ϵ</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop">sin</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.1em;"><span></span></span></span></span></span></span></span></span></span></span></span></div>
<figure id="fig31"><a href="file:///home/dllu/proj/dllup-rs/img/offset_encoder.svg"><picture><img src="file:///home/dllu/proj/dllup-rs/img/offset_encoder.svg" alt="offset encoder" width="600" height="393" loading="lazy" decoding="async" srcset="file:///home/dllu/proj/dllup-rs/img/offset_encoder.svg 600w" sizes="(max-width: 600px) 100vw, 600px"/></picture></a><figcaption><p><a href="#fig31" class="fignum">FIGURE 31</a> Diagram of offset encoder and plot of measured angle vs true angle.</p><ul aria-label="download sizes"><li><a href="file:///home/dllu/proj/dllup-rs/img/offset_encoder.svg">Original</a></li></ul></figcaption></figure>
<p>This effect can cause a straight corridor to appear consistently curved to one side.</p>
<h2 id="multiple-lidars-in-a-box"><span id="s6.7">Multiple lidars in a box</span></h2>
<p>Some lidars are packaged in such a way that there are two or more separate lidars in a box.
For example, the Livox Mid 100 comprises three Mid-40s arranged side by side.</p>
<figure id="fig32"><a href="file:///home/dllu/proj/dllup-rs/img/2025-08-28-23-17-33_96af2de599c8b158.png"><picture><source media="(max-width: 600px)" srcset="file:///home/dllu/proj/dllup-rs/img/2025-08-28-23-17-33_96af2de599c8b158-600.png 600w" type="image/png"/><source media="(max-width: 1200px)" srcset="file:///home/dllu/proj/dllup-rs/img/2025-08-28-23-17-33_96af2de599c8b158-1200.png 1200w" type="image/png"/><img src="file:///home/dllu/proj/dllup-rs/img/2025-08-28-23-17-33_96af2de599c8b158.png" alt="" width="600" height="353" loading="lazy" decoding="async" srcset="file:///home/dllu/proj/dllup-rs/img/2025-08-28-23-17-33_96af2de599c8b158-600.png 600w, file:///home/dllu/proj/dllup-rs/img/2025-08-28-23-17-33_96af2de599c8b158-1200.png 1200w, file:///home/dllu/proj/dllup-rs/img/2025-08-28-23-17-33_96af2de599c8b158.png 1550w" sizes="(max-width: 600px) 100vw, 600px"/></picture></a><figcaption><p><a href="#fig32" class="fignum">FIGURE 32</a> Livox Mid 40 and 100. Source: <a href="https://www.livoxtech.com/mid-40-and-mid-100">Livox website</a>.</p><ul aria-label="download sizes"><li><a href="file:///home/dllu/proj/dllup-rs/img/2025-08-28-23-17-33_96af2de599c8b158-600.png">600 × 353</a></li><li><a href="file:///home/dllu/proj/dllup-rs/img/2025-08-28-23-17-33_96af2de599c8b158-1200.png">1200 × 706</a></li><li><a href="file:///home/dllu/proj/dllup-rs/img/2025-08-28-23-17-33_96af2de599c8b158.png">original 1550 × 912</a></li></ul></figcaption></figure>
<figure id="fig33"><a href="file:///home/dllu/proj/dllup-rs/img/luminar-hydra.png"><picture><source media="(max-width: 600px)" srcset="file:///home/dllu/proj/dllup-rs/img/luminar-hydra-600.png 600w" type="image/png"/><source media="(max-width: 1200px)" srcset="file:///home/dllu/proj/dllup-rs/img/luminar-hydra-1200.png 1200w" type="image/png"/><img src="file:///home/dllu/proj/dllup-rs/img/luminar-hydra.png" alt="" width="600" height="338" loading="lazy" decoding="async" srcset="file:///home/dllu/proj/dllup-rs/img/luminar-hydra-600.png 600w, file:///home/dllu/proj/dllup-rs/img/luminar-hydra-1200.png 1200w, file:///home/dllu/proj/dllup-rs/img/luminar-hydra.png 3840w" sizes="(max-width: 600px) 100vw, 600px"/></picture></a><figcaption><p><a href="#fig33" class="fignum">FIGURE 33</a> Luminar Hydra has two separate lidars side by side. Source: <a href="https://venturebeat.com/business/luminar-unveils-hydra-a-lidar-sensor-sold-on-subscription/">Luminar via Venturebeat</a>.</p><ul aria-label="download sizes"><li><a href="file:///home/dllu/proj/dllup-rs/img/luminar-hydra-600.png">600 × 338</a></li><li><a href="file:///home/dllu/proj/dllup-rs/img/luminar-hydra-1200.png">1200 × 675</a></li><li><a href="file:///home/dllu/proj/dllup-rs/img/luminar-hydra.png">original 3840 × 2160</a></li></ul></figcaption></figure>
<p>Sometimes, physically jostling the lidar can cause the multiple separate lidars to become misaligned.
It would then be necessary to treat them as separate lidars and calibrate their orientations accurately.</p>
<h1 id="faq"><span id="s7">FAQ</span></h1>
<h2 id="lidar-vs-lidar"><span id="s7.1">LiDAR vs lidar</span></h2>
<blockquote>Should it be capitalized as “LiDAR” instead of “lidar”?
</blockquote>
<p>No! We should use the lowercase because it’s a commonly used word just like radar.
When radar was some sort of highly exotic military technology, it made sense to use all caps for the acronym “radio detection and ranging”, but by now it is so common that we should use lowercase.
Many other words started out capitalized when new and exotic, but became lowercase once commonplace:</p>
<ul><li>laser, Light Amplification by Stimulated Emission of Radiation</li><li>scuba, Self-Contained Underwater Breathing Apparatus</li><li>taser, Thomas A. Swift’s Electric Rifle</li></ul>
<p>Now that most phones and some cars are equipped with lidar, it’s a good time to just use lowercase.
Perhaps the main barrier to doing so is Apple’s autocorrect.</p>
<h2 id="are-rectangular-lidars-solid-state"><span id="s7.2">Are rectangular lidars solid state?</span></h2>
<p>No, not necessarily.
Whether or not something is solid state is based on whether it has macroscopic moving parts in it, not based on its shape.</p>
<p>Livox lidars are often mistakenly assumed to be solid state, but they are in fact mechanically scanning with some using Risley prisms and some using mirrors.</p>
<p>Nonetheless, for some reason, many people somehow classify it as a solid state lidar simply because it’s rectangular. For example:</p>
<ul><li><a href="https://www.tangramvision.com/blog/sensors-201-scanning-and-solid-state-lidar">Tangram Vision</a> put it under “Solid State” even though it says it uses a “rotating mirror to change where it scans”.</li><li><a href="https://github.com/SLAM-Handbook-contributors/slam-handbook-public-release/issues/25">SLAM Handbook</a> made the same mistake. Fortunately, they fixed it after I created a GitHub issue.</li></ul>
<figure id="fig34"><a href="file:///home/dllu/proj/dllup-rs/img/2019-05-20-16-36-14_DSCF2445_c7a520046d5664292b466ab56fda9cc24fb50cca_7ae9327ac72dc3d7.jpg"><picture><source media="(max-width: 600px)" srcset="file:///home/dllu/proj/dllup-rs/img/2019-05-20-16-36-14_DSCF2445_c7a520046d5664292b466ab56fda9cc24fb50cca_7ae9327ac72dc3d7-600.jpg 600w" type="image/jpeg"/><source media="(max-width: 1200px)" srcset="file:///home/dllu/proj/dllup-rs/img/2019-05-20-16-36-14_DSCF2445_c7a520046d5664292b466ab56fda9cc24fb50cca_7ae9327ac72dc3d7-1200.jpg 1200w" type="image/jpeg"/><source media="(max-width: 3840px)" srcset="file:///home/dllu/proj/dllup-rs/img/2019-05-20-16-36-14_DSCF2445_c7a520046d5664292b466ab56fda9cc24fb50cca_7ae9327ac72dc3d7-3840.jpg 3840w" type="image/jpeg"/><img src="file:///home/dllu/proj/dllup-rs/img/2019-05-20-16-36-14_DSCF2445_c7a520046d5664292b466ab56fda9cc24fb50cca_7ae9327ac72dc3d7.jpg" alt="" width="600" height="450" loading="lazy" decoding="async" srcset="file:///home/dllu/proj/dllup-rs/img/2019-05-20-16-36-14_DSCF2445_c7a520046d5664292b466ab56fda9cc24fb50cca_7ae9327ac72dc3d7-600.jpg 600w, file:///home/dllu/proj/dllup-rs/img/2019-05-20-16-36-14_DSCF2445_c7a520046d5664292b466ab56fda9cc24fb50cca_7ae9327ac72dc3d7-1200.jpg 1200w, file:///home/dllu/proj/dllup-rs/img/2019-05-20-16-36-14_DSCF2445_c7a520046d5664292b466ab56fda9cc24fb50cca_7ae9327ac72dc3d7-3840.jpg 3840w, file:///home/dllu/proj/dllup-rs/img/2019-05-20-16-36-14_DSCF2445_c7a520046d5664292b466ab56fda9cc24fb50cca_7ae9327ac72dc3d7.jpg 4929w" sizes="(max-width: 600px) 100vw, 600px"/></picture></a><figcaption><p><a href="#fig34" class="fignum">FIGURE 34</a> They may be rectangular, but they aren’t solid state.</p><details><summary>Image metadata</summary><ul><li><strong>Camera</strong>: FUJIFILM GFX 50R</li><li><strong>Lens</strong>: GF45mmF2.8 R WR</li><li><strong>Aperture</strong>: f/2.8</li><li><strong>Shutter speed</strong>: 1/60 s</li><li><strong>ISO</strong>: ISO 640</li><li><strong>Software</strong>: darktable 5.1.0+951~g952d604a4c</li><li><strong>Original date</strong>: 2019:05:20 16:36:14</li></ul></details><ul aria-label="download sizes"><li><a href="file:///home/dllu/proj/dllup-rs/img/2019-05-20-16-36-14_DSCF2445_c7a520046d5664292b466ab56fda9cc24fb50cca_7ae9327ac72dc3d7-600.jpg">600 × 450</a></li><li><a href="file:///home/dllu/proj/dllup-rs/img/2019-05-20-16-36-14_DSCF2445_c7a520046d5664292b466ab56fda9cc24fb50cca_7ae9327ac72dc3d7-1200.jpg">1200 × 900</a></li><li><a href="file:///home/dllu/proj/dllup-rs/img/2019-05-20-16-36-14_DSCF2445_c7a520046d5664292b466ab56fda9cc24fb50cca_7ae9327ac72dc3d7-3840.jpg">3840 × 2879</a></li><li><a href="file:///home/dllu/proj/dllup-rs/img/2019-05-20-16-36-14_DSCF2445_c7a520046d5664292b466ab56fda9cc24fb50cca_7ae9327ac72dc3d7.jpg">original 4929 × 3696</a></li></ul></figcaption></figure>
<p>Likewise, Luminar lidars are often assumed to be solid state, but they are not. The Luminar Hydra uses galvos and the Luminar Iris uses polygonal mirrors.</p>
<p>Solid state lidars are often perceived to be more durable and reliable.
Lidar manufacturers have taken note of this market bias in customers, and marketed accordingly.
For example, the Velodyne HDL-64 was marketed as solid state (even though it is externally spinning) in <a href="https://www.prweb.com/releases/velodyne_lidar_announces_ultra_puck_vlp_32a_high_definition_real_time_3d_lidar_sensor_for_the_automotive_market/prweb13329711.htm">their 2016 press release announcing the VLP-32A</a>.</p>
<blockquote>Based on his experience during this challenge, Hall recognized the limitations of stereovision and developed the HDL-64 Solid-State Hybrid LiDAR sensor.
</blockquote>
<p>As justification, however, one might consider that it has an array of 64 lasers to distinguish vertical bearing, so perhaps it could be called 50% solid state as mechanical scanning is used only for the horizontal direction! In contrast, Luminar and Livox lidars use mechanical scanning for both directions, despite being a single non-spinning box.</p>
<figure id="fig35"><a href="file:///home/dllu/proj/dllup-rs/img/2020-01-09-13-17-30_DSCF4298_7144b010a4e6c5184ccde284fbe6608effb34a45_b11d175ed9f3cfc0.jpg"><picture><source media="(max-width: 600px)" srcset="file:///home/dllu/proj/dllup-rs/img/2020-01-09-13-17-30_DSCF4298_7144b010a4e6c5184ccde284fbe6608effb34a45_b11d175ed9f3cfc0-600.jpg 600w" type="image/jpeg"/><source media="(max-width: 1200px)" srcset="file:///home/dllu/proj/dllup-rs/img/2020-01-09-13-17-30_DSCF4298_7144b010a4e6c5184ccde284fbe6608effb34a45_b11d175ed9f3cfc0-1200.jpg 1200w" type="image/jpeg"/><source media="(max-width: 3840px)" srcset="file:///home/dllu/proj/dllup-rs/img/2020-01-09-13-17-30_DSCF4298_7144b010a4e6c5184ccde284fbe6608effb34a45_b11d175ed9f3cfc0-3840.jpg 3840w" type="image/jpeg"/><img src="file:///home/dllu/proj/dllup-rs/img/2020-01-09-13-17-30_DSCF4298_7144b010a4e6c5184ccde284fbe6608effb34a45_b11d175ed9f3cfc0.jpg" alt="" width="600" height="482" loading="lazy" decoding="async" srcset="file:///home/dllu/proj/dllup-rs/img/2020-01-09-13-17-30_DSCF4298_7144b010a4e6c5184ccde284fbe6608effb34a45_b11d175ed9f3cfc0-600.jpg 600w, file:///home/dllu/proj/dllup-rs/img/2020-01-09-13-17-30_DSCF4298_7144b010a4e6c5184ccde284fbe6608effb34a45_b11d175ed9f3cfc0-1200.jpg 1200w, file:///home/dllu/proj/dllup-rs/img/2020-01-09-13-17-30_DSCF4298_7144b010a4e6c5184ccde284fbe6608effb34a45_b11d175ed9f3cfc0-3840.jpg 3840w, file:///home/dllu/proj/dllup-rs/img/2020-01-09-13-17-30_DSCF4298_7144b010a4e6c5184ccde284fbe6608effb34a45_b11d175ed9f3cfc0.jpg 7487w" sizes="(max-width: 600px) 100vw, 600px"/></picture></a><figcaption><p><a href="#fig35" class="fignum">FIGURE 35</a> Velodyne booth at CES 2020. In the back corner you can see David Hall.</p><details><summary>Image metadata</summary><ul><li><strong>Camera</strong>: FUJIFILM GFX 50R</li><li><strong>Lens</strong>: GF23mmF4 R LM WR</li><li><strong>Aperture</strong>: f/6.4</li><li><strong>Shutter speed</strong>: 1/60 s</li><li><strong>ISO</strong>: ISO 2000</li><li><strong>Software</strong>: darktable 3.0.0rc2+101~g12a3e26fc</li><li><strong>Original date</strong>: 2020:01:09 13:17:30</li></ul></details><ul aria-label="download sizes"><li><a href="file:///home/dllu/proj/dllup-rs/img/2020-01-09-13-17-30_DSCF4298_7144b010a4e6c5184ccde284fbe6608effb34a45_b11d175ed9f3cfc0-600.jpg">600 × 482</a></li><li><a href="file:///home/dllu/proj/dllup-rs/img/2020-01-09-13-17-30_DSCF4298_7144b010a4e6c5184ccde284fbe6608effb34a45_b11d175ed9f3cfc0-1200.jpg">1200 × 964</a></li><li><a href="file:///home/dllu/proj/dllup-rs/img/2020-01-09-13-17-30_DSCF4298_7144b010a4e6c5184ccde284fbe6608effb34a45_b11d175ed9f3cfc0-3840.jpg">3840 × 3086</a></li><li><a href="file:///home/dllu/proj/dllup-rs/img/2020-01-09-13-17-30_DSCF4298_7144b010a4e6c5184ccde284fbe6608effb34a45_b11d175ed9f3cfc0.jpg">original 7487 × 6016</a></li></ul></figcaption></figure>
<figure id="fig36"><a href="file:///home/dllu/proj/dllup-rs/img/Velodyne_ProductFamily_BlueLens_32GreenLens.png"><picture><source media="(max-width: 600px)" srcset="file:///home/dllu/proj/dllup-rs/img/Velodyne_ProductFamily_BlueLens_32GreenLens-600.png 600w" type="image/png"/><source media="(max-width: 1200px)" srcset="file:///home/dllu/proj/dllup-rs/img/Velodyne_ProductFamily_BlueLens_32GreenLens-1200.png 1200w" type="image/png"/><source media="(max-width: 3840px)" srcset="file:///home/dllu/proj/dllup-rs/img/Velodyne_ProductFamily_BlueLens_32GreenLens-3840.png 3840w" type="image/png"/><img src="file:///home/dllu/proj/dllup-rs/img/Velodyne_ProductFamily_BlueLens_32GreenLens.png" alt="" width="600" height="375" loading="lazy" decoding="async" srcset="file:///home/dllu/proj/dllup-rs/img/Velodyne_ProductFamily_BlueLens_32GreenLens-600.png 600w, file:///home/dllu/proj/dllup-rs/img/Velodyne_ProductFamily_BlueLens_32GreenLens-1200.png 1200w, file:///home/dllu/proj/dllup-rs/img/Velodyne_ProductFamily_BlueLens_32GreenLens-3840.png 3840w, file:///home/dllu/proj/dllup-rs/img/Velodyne_ProductFamily_BlueLens_32GreenLens.png 5184w" sizes="(max-width: 600px) 100vw, 600px"/></picture></a><figcaption><p><a href="#fig36" class="fignum">FIGURE 36</a> Velodyne formerly marketed these as “Solid-State Hybrid”.</p><ul aria-label="download sizes"><li><a href="file:///home/dllu/proj/dllup-rs/img/Velodyne_ProductFamily_BlueLens_32GreenLens-600.png">600 × 375</a></li><li><a href="file:///home/dllu/proj/dllup-rs/img/Velodyne_ProductFamily_BlueLens_32GreenLens-1200.png">1200 × 750</a></li><li><a href="file:///home/dllu/proj/dllup-rs/img/Velodyne_ProductFamily_BlueLens_32GreenLens-3840.png">3840 × 2400</a></li><li><a href="file:///home/dllu/proj/dllup-rs/img/Velodyne_ProductFamily_BlueLens_32GreenLens.png">original 5184 × 3240</a></li></ul></figcaption></figure>


</main>
</body>
</html>
